import{_ as K}from"./rWq0RogY.js";import{_ as X}from"./DpKZGK1n.js";import{_ as Z}from"./BnSO8-h7.js";import{Q as O}from"./THwSqgxp.js";import{l as P,z as V,aF as T,c0 as y,c1 as F,r as x,c2 as I,f as u,D as p,p as N,n as j,m,P as G,L as J,M as Y,X as ee,j as te,c3 as ne,S as oe,c4 as ae,b8 as M,bI as R,bL as U,k as le,c5 as A,H as D,i as ie,g as re,o as se,w as Q,b as H,bZ as B}from"#entry";import"./CRymY7p-.js";import"./CVdCovnp.js";import"./DlAUqK2U.js";import"./CgXYkpNe.js";import"./WcedK_IL.js";import"./0X6zHiFl.js";const ue=P({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:l}){const{proxy:{$q:n}}=V(),t=T(F,y);if(t===y)return console.error("QFooter needs to be child of QLayout"),y;const i=x(parseInt(e.heightHint,10)),r=x(!0),d=x(I.value===!0||t.isContainer.value===!0?0:window.innerHeight),g=u(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),f=u(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),q=u(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return r.value===!0?i.value:0;const o=t.scroll.value.position+f.value+i.value-t.height.value;return o>0?o:0}),$=u(()=>e.modelValue!==!0||g.value===!0&&r.value!==!0),S=u(()=>e.modelValue===!0&&$.value===!0&&e.reveal===!0),c=u(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+($.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),w=u(()=>{const o=t.rows.value.bottom,v={};return o[0]==="l"&&t.left.space===!0&&(v[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(v[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),v});function _(o,v){t.update("footer",o,v)}function C(o,v){o.value!==v&&(o.value=v)}function L({height:o}){C(i,o),_("size",o)}function a(){if(e.reveal!==!0)return;const{direction:o,position:v,inflectionPoint:z}=t.scroll.value;C(r,o==="up"||v-z<100||t.height.value-f.value-v-i.value<300)}function b(o){S.value===!0&&C(r,!0),l("focusin",o)}p(()=>e.modelValue,o=>{_("space",o),C(r,!0),t.animate()}),p(q,o=>{_("offset",o)}),p(()=>e.reveal,o=>{o===!1&&C(r,e.modelValue)}),p(r,o=>{t.animate(),l("reveal",o)}),p([i,t.scroll,t.height],a),p(()=>n.screen.height,o=>{t.isContainer.value!==!0&&C(d,o)});const s={};return t.instances.footer=s,e.modelValue===!0&&_("size",i.value),_("space",e.modelValue),_("offset",q.value),N(()=>{t.instances.footer===s&&(t.instances.footer=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const o=j(h.default,[m(O,{debounce:0,onResize:L})]);return e.elevated===!0&&o.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m("footer",{class:c.value,style:w.value,onFocusin:b},o)}}}),ce=P({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:l}){const{proxy:{$q:n}}=V(),t=T(F,y);if(t===y)return console.error("QHeader needs to be child of QLayout"),y;const i=x(parseInt(e.heightHint,10)),r=x(!0),d=u(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),g=u(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return r.value===!0?i.value:0;const a=i.value-t.scroll.value.position;return a>0?a:0}),f=u(()=>e.modelValue!==!0||d.value===!0&&r.value!==!0),q=u(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),$=u(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=u(()=>{const a=t.rows.value.top,b={};return a[0]==="l"&&t.left.space===!0&&(b[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(b[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),b});function c(a,b){t.update("header",a,b)}function w(a,b){a.value!==b&&(a.value=b)}function _({height:a}){w(i,a),c("size",a)}function C(a){q.value===!0&&w(r,!0),l("focusin",a)}p(()=>e.modelValue,a=>{c("space",a),w(r,!0),t.animate()}),p(g,a=>{c("offset",a)}),p(()=>e.reveal,a=>{a===!1&&w(r,e.modelValue)}),p(r,a=>{t.animate(),l("reveal",a)}),p(t.scroll,a=>{e.reveal===!0&&w(r,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const L={};return t.instances.header=L,e.modelValue===!0&&c("size",i.value),c("space",e.modelValue),c("offset",g.value),N(()=>{t.instances.header===L&&(t.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const a=G(h.default,[]);return e.elevated===!0&&a.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(m(O,{debounce:0,onResize:_})),m("header",{class:$.value,style:S.value,onFocusin:C},a)}}}),{passive:W}=J,de=["both","horizontal","vertical"],fe=P({name:"QScrollObserver",props:{axis:{type:String,validator:e=>de.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Y},emits:["scroll"],setup(e,{emit:h}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,i;p(()=>e.scrollTarget,()=>{g(),d()});function r(){n?.();const $=Math.max(0,oe(t)),S=ae(t),c={top:$-l.position.top,left:S-l.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const w=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";l.position={top:$,left:S},l.directionChanged=l.direction!==w,l.delta=c,l.directionChanged===!0&&(l.direction=w,l.inflectionPoint=l.position),h("scroll",{...l})}function d(){t=ee(i,e.scrollTarget),t.addEventListener("scroll",f,W),f(!0)}function g(){t!==void 0&&(t.removeEventListener("scroll",f,W),t=void 0)}function f($){if($===!0||e.debounce===0||e.debounce==="0")r();else if(n===null){const[S,c]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];n=()=>{c(S),n=null}}}const{proxy:q}=V();return p(()=>q.$q.lang.rtl,r),te(()=>{i=q.$el.parentNode,d()}),N(()=>{n?.(),g()}),Object.assign(q,{trigger:f,getPosition:()=>l}),ne}}),ve=P({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:h,emit:l}){const{proxy:{$q:n}}=V(),t=x(null),i=x(n.screen.height),r=x(e.container===!0?0:n.screen.width),d=x({position:0,direction:"down",inflectionPoint:0}),g=x(0),f=x(I.value===!0?0:M()),q=u(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),$=u(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),S=u(()=>f.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),c=u(()=>f.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function w(s){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};d.value=o,e.onScroll!==void 0&&l("scroll",o)}}function _(s){const{height:o,width:v}=s;let z=!1;i.value!==o&&(z=!0,i.value=o,e.onScrollHeight!==void 0&&l("scrollHeight",o),L()),r.value!==v&&(z=!0,r.value=v),z===!0&&e.onResize!==void 0&&l("resize",s)}function C({height:s}){g.value!==s&&(g.value=s,L())}function L(){if(e.container===!0){const s=i.value>g.value?M():0;f.value!==s&&(f.value=s)}}let a=null;const b={instances:{},view:u(()=>e.view),isContainer:u(()=>e.container),rootRef:t,height:i,containerHeight:g,scrollbarWidth:f,totalWidth:u(()=>r.value+f.value),rows:u(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:d,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,o,v){b[s][o]=v}};if(U(F,b),M()>0){let s=function(){z=null,E.classList.remove("hide-scrollbar")},o=function(){if(z===null){if(E.scrollHeight>n.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(s,300)},v=function(k){z!==null&&k==="remove"&&(clearTimeout(z),s()),window[`${k}EventListener`]("resize",o)},z=null;const E=document.body;p(()=>e.container!==!0?"add":"remove",v),e.container!==!0&&v("add"),le(()=>{v("remove")})}return()=>{const s=j(h.default,[m(fe,{onScroll:w}),m(O,{onResize:_})]),o=m("div",{class:q.value,style:$.value,ref:e.container===!0?void 0:t,tabindex:-1},s);return e.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:t},[m(O,{onResize:C}),m("div",{class:"absolute-full",style:S.value},[m("div",{class:"scroll",style:c.value},[o])])]):o}}}),he=P({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:h}){const{proxy:{$q:l}}=V(),n=T(F,y);if(n===y)return console.error("QPage needs to be a deep child of QLayout"),y;if(T(A,y)===y)return console.error("QPage needs to be child of QPageContainer"),y;const i=u(()=>{const d=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const g=n.isContainer.value===!0?n.containerHeight.value:l.screen.height;return e.styleFn(d,g)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-d+"px":l.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":l.screen.height-d+"px"}}),r=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:r.value,style:i.value},D(h.default))}}),ge=P({name:"QPageContainer",setup(e,{slots:h}){const{proxy:{$q:l}}=V(),n=T(F,y);if(n===y)return console.error("QPageContainer needs to be child of QLayout"),y;U(A,!0);const t=u(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>m("div",{class:"q-page-container",style:t.value},D(h.default))}}),Ce=ie({__name:"quasar",setup(e){return(h,l)=>{const n=ce,t=he,i=ge,r=ue,d=ve;return se(),re(d,{view:"hhh lpr fff",class:""},{default:Q(()=>[H(n,{class:"fixed w-full top-0 bg-[var(--ui-bg)] shadow-md dark:shadow-gray-800",style:B({paddingTop:h.$env.style.header.height})},null,8,["style"]),H(n,{class:"fixed w-full top-0 z-top bg-transparent",style:B({height:h.$env.style.header.height})},{default:Q(()=>[H(K)]),_:1},8,["style"]),H(i,null,{default:Q(()=>[H(t,{style:B({minHeight:`calc(100vh - ${h.$env.style.header.height} - ${h.$env.style.footer.height} - 4px)`})},{default:Q(()=>[H(X)]),_:1},8,["style"])]),_:1}),H(r,{class:"bg-transparent shadow-md dark:shadow-gray-300",style:B({height:h.$env.style.footer.height})},{default:Q(()=>[H(Z)]),_:1},8,["style"])]),_:1})}}});export{Ce as default};
