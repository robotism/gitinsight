import{h as se}from"./BLMuvzoS.js";import{u as $e,_ as We,s as Ye}from"./BT3DorMk.js";import{m as ue,f as P,p as E,q as Fe,s as we,T as Qe,v as Je,x as Ze,y as Ge,z as Ke,A as Ve,B as Ee,C as Xe,r as O,D as et,E as tt,G as F,H as nt,Q as ke,I as je,J as at,K as lt,L as Be,M as _e,N as De,O as ot,P as st,R as it,S as rt,U as ut,j as pe,V as ct,W as fe,X as xe,Y as Ce,Z as ge,$ as ye,a0 as dt,a1 as ft,a2 as mt,a3 as vt,i as be,e as Se,c as ae,o as G,a as H,t as Q,b as S,w as W,a4 as ht,a5 as gt,a6 as pt,h as Y,a7 as bt,l as Z,g as Pe,k as Re,d as ve,_ as ze,n as Oe,a8 as _t,F as Le,a9 as xt,aa as yt}from"#entry";import{_ as Te,a as $t}from"./DAFHD10x.js";import{_ as Me}from"./DlAUqK2U.js";import{A as wt,P as qe}from"./BZeB4kPz.js";import{u as St}from"./BkIceAGO.js";const Mt=["top","middle","bottom"],kt=ue({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Mt.includes(e)}},setup(e,{slots:g}){const T=P(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=P(()=>{const r=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(r!==void 0?` text-${r}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>E("div",{class:a.value,style:T.value,role:"status","aria-label":e.label},Fe(g.default,e.label!==void 0?[e.label]:[]))}}),Dt=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:g,emit:T}){let a=!1,r,w,h=null,M=null,d,m;function L(){r?.(),r=null,a=!1,h!==null&&(clearTimeout(h),h=null),M!==null&&(clearTimeout(M),M=null),w?.removeEventListener("transitionend",d),d=null}function p(f,o,N){o!==void 0&&(f.style.height=`${o}px`),f.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,r=N}function D(f,o){f.style.overflowY=null,f.style.height=null,f.style.transition=null,L(),o!==m&&T(o)}function q(f,o){let N=0;w=f,a===!0?(L(),N=f.offsetHeight===f.scrollHeight?0:void 0):(m="hide",f.style.overflowY="hidden"),p(f,N,o),h=setTimeout(()=>{h=null,f.style.height=`${f.scrollHeight}px`,d=u=>{M=null,(Object(u)!==u||u.target===f)&&D(f,"show")},f.addEventListener("transitionend",d),M=setTimeout(d,e.duration*1.1)},100)}function A(f,o){let N;w=f,a===!0?L():(m="show",f.style.overflowY="hidden",N=f.scrollHeight),p(f,N,o),h=setTimeout(()=>{h=null,f.style.height=0,d=u=>{M=null,(Object(u)!==u||u.target===f)&&D(f,"hide")},f.addEventListener("transitionend",d),M=setTimeout(d,e.duration*1.1)},100)}return we(()=>{a===!0&&L()}),()=>E(Qe,{css:!1,appear:e.appear,onEnter:q,onLeave:A},g.default)}}),te=Je({}),Ct=Object.keys(Ve),Ot=ue({name:"QExpansionItem",props:{...Ve,...Ke,...Ge,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ze,"click","afterShow","afterHide"],setup(e,{slots:g,emit:T}){const{proxy:{$q:a}}=Ee(),r=Xe(e,a),w=O(e.modelValue!==null?e.modelValue:e.defaultOpened),h=O(null),M=et(),{show:d,hide:m,toggle:L}=tt({showing:w});let p,D;const q=P(()=>`q-expansion-item q-item-type q-expansion-item--${w.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),A=P(()=>e.contentInsetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),f=P(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),o=P(()=>{const t={};return Ct.forEach(l=>{t[l]=e[l]}),t}),N=P(()=>f.value===!0||e.expandIconToggle!==!0),u=P(()=>e.expandedIcon!==void 0&&w.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),n=P(()=>e.disable!==!0&&(f.value===!0||e.expandIconToggle===!0)),i=P(()=>({expanded:w.value===!0,detailsId:M.value,toggle:L,show:d,hide:m})),v=P(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[w.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":w.value===!0?"true":"false","aria-controls":M.value,"aria-label":t}});F(()=>e.group,t=>{D?.(),t!==void 0&&C()});function k(t){f.value!==!0&&L(t),T("click",t)}function y(t){t.keyCode===13&&U(t,!0)}function U(t,l){l!==!0&&t.qAvoidFocus!==!0&&h.value?.focus(),L(t),ot(t)}function R(){T("afterShow")}function b(){T("afterHide")}function C(){p===void 0&&(p=nt()),w.value===!0&&(te[e.group]=p);const t=F(w,x=>{x===!0?te[e.group]=p:te[e.group]===p&&delete te[e.group]}),l=F(()=>te[e.group],(x,$)=>{$===p&&x!==void 0&&x!==p&&m()});D=()=>{t(),l(),te[e.group]===p&&delete te[e.group],D=void 0}}function le(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},l=[E(De,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&w.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:u.value})];return n.value===!0&&(Object.assign(t,{tabindex:0,...v.value,onClick:U,onKeyup:y}),l.unshift(E("div",{ref:h,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),E(_e,t,()=>l)}function ce(){let t;return g.header!==void 0?t=[].concat(g.header(i.value)):(t=[E(_e,()=>[E(Te,{lines:e.labelLines},()=>e.label||""),e.caption?E(Te,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](E(_e,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>E(De,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](le()),t}function _(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:r.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return N.value===!0&&(t.clickable=!0,t.onClick=k,Object.assign(t,f.value===!0?o.value:v.value)),E(je,t,ce)}function c(){return at(E("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:M.value},Be(g.default)),[[lt,w.value]])}function s(){const t=[_(),E(Dt,{duration:e.duration,onShow:R,onHide:b},c)];return e.expandSeparator===!0&&t.push(E(ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:r.value}),E(ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:r.value})),t}return e.group!==void 0&&C(),we(()=>{D?.()}),()=>E("div",{class:q.value},[E("div",{class:"q-expansion-item__container relative-position"},s())])}}),{passive:ne}=st,Lt=ue({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:it,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:g,emit:T}){const a=O(!1),r=O(!0),w=O(null),h=O(null);let M=e.initialIndex,d,m;const L=P(()=>"q-infinite-scroll__loading"+(a.value===!0?"":" invisible"));function p(){if(e.disable===!0||a.value===!0||r.value===!1)return;const y=fe(d),U=xe(d),R=Ce(d);e.reverse===!1?Math.round(U+R+e.offset)>=Math.round(y)&&D():Math.round(U)<=e.offset&&D()}function D(){if(e.disable===!0||a.value===!0||r.value===!1)return;M++,a.value=!0;const y=fe(d);T("load",M,U=>{r.value===!0&&(a.value=!1,ge(()=>{if(e.reverse===!0){const R=fe(d),b=xe(d),C=R-y;ye(d,b+C)}U===!0?f():w.value&&w.value.closest("body")&&m()}))})}function q(){M=0}function A(){r.value===!1&&(r.value=!0,d.addEventListener("scroll",m,ne)),p()}function f(){r.value===!0&&(r.value=!1,a.value=!1,d.removeEventListener("scroll",m,ne),m?.cancel?.())}function o(){if(d&&r.value===!0&&d.removeEventListener("scroll",m,ne),d=dt(w.value,e.scrollTarget),r.value===!0){if(d.addEventListener("scroll",m,ne),e.reverse===!0){const y=fe(d),U=Ce(d);ye(d,y-U)}p()}}function N(y){M=y}function u(y){y=parseInt(y,10);const U=m;m=y<=0?p:ft(p,isNaN(y)===!0?100:y),d&&r.value===!0&&(U!==void 0&&d.removeEventListener("scroll",U,ne),d.addEventListener("scroll",m,ne))}function n(y){if(i.value===!0){if(h.value===null){y!==!0&&ge(()=>{n(!0)});return}const U=`${a.value===!0?"un":""}pauseAnimations`;Array.from(h.value.getElementsByTagName("svg")).forEach(R=>{R[U]()})}}const i=P(()=>e.disable!==!0&&r.value===!0);F([a,i],()=>{n()}),F(()=>e.disable,y=>{y===!0?f():A()}),F(()=>e.reverse,()=>{a.value===!1&&r.value===!0&&p()}),F(()=>e.scrollTarget,o),F(()=>e.debounce,u);let v=!1;rt(()=>{v!==!1&&d&&ye(d,v)}),ut(()=>{v=d?xe(d):!1}),we(()=>{r.value===!0&&d.removeEventListener("scroll",m,ne)}),pe(()=>{u(e.debounce),o(),a.value===!1&&n()});const k=Ee();return Object.assign(k.proxy,{poll:()=>{m?.()},trigger:D,stop:f,reset:q,resume:A,setIndex:N,updateScrollTarget:o}),()=>{const y=ct(g.default,[]);return i.value===!0&&y[e.reverse===!1?"push":"unshift"](E("div",{ref:h,class:L.value},Be(g.loading))),E("div",{class:"q-infinite-scroll",ref:w},y)}}}),Tt='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',qt=ue({name:"QSpinnerDots",props:mt,setup(e){const{cSize:g,classes:T}=vt(e);return()=>E("svg",{class:T.value,fill:"currentColor",width:g.value,height:g.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Tt})}}),It={class:"w-full flex-col content-center"},Ht={class:"w-full content-center"},At={class:"w-full flex flex-col"},Nt={class:"flex flex-row flex-wrap"},Ut={class:"text-purple text-[10px]"},Yt={class:"text-teal text-[8px]"},Vt=be({__name:"ConditionFilter",props:{filter:{type:Object,required:!0}},emits:["update:filter"],setup(e,{emit:g}){const T=$e(),a=Se(),r=e,w=g,h=O({since:r.filter?.since||"",until:r.filter?.until||"",leEffective:r.filter?.leEffective||"",geEffective:r.filter?.geEffective||""}),M=O([]),d=O([]),m=O([]),L=P(()=>{const u=M.value.map(v=>{const k=v.repoUrl.split("/").pop().replace(".git",""),y=v.commits?.split?.(",")?.length||v.commits||0,U=v.nicknames?.split?.(",")?.length||0;return{label:k+" ("+y+" commits, "+U+" authors)",value:v.repoUrl}}),n=[];for(const v of u||[])n.findIndex(k=>k.value===v.value)<0&&n.push(v);n.sort((v,k)=>v.label.localeCompare(k.label));const i=[{label:a.t("all"),value:""}];return i.push(...n),i}),p=O(!1);F(()=>m.value,(u,n)=>{if(p.value)return;p.value=!0;const i=u.includes(""),v=n.includes("");v&&!i?m.value=[]:!v&&i?m.value=L.value.map(k=>k.value):u.length==L.value.length-1&&!i?m.value.splice(0,0,""):u.length<L.value.length&&i&&(m.value=m.value.filter(k=>!!k)),ge(()=>{p.value=!1})},{deep:!0});const D=O([]),q=P(()=>{const u=d.value.map(i=>({label:i.nickname,value:i.nickname}));u.sort((i,v)=>i.label.localeCompare(v.label));const n=[{label:a.t("all"),value:""}];return n.push(...u),n}),A=O(!1);F(()=>D.value,(u,n)=>{if(A.value)return;A.value=!0;const i=u.includes(""),v=n.includes("");v&&!i?D.value=[]:!v&&i?D.value=q.value.map(k=>k.value):u.length==q.value.length-1&&!i?D.value.splice(0,0,""):u.length<q.value.length&&i&&(D.value=D.value.filter(k=>!!k)),ge(()=>{A.value=!1})},{deep:!0}),F([h,m,D],()=>{w("update:filter",{since:h.value?.since||"",until:h.value?.until||"",leEffective:h.value?.leEffective||"",geEffective:h.value?.geEffective||"",repos:m.value.filter(u=>!!u),authors:D.value.filter(u=>!!u)})},{deep:!0});function f(u){const[n,i]=o(u);h.value.since=n||h.value.since,h.value.until=i||h.value.until}function o(u){const n="YYYY-MM-DD",i=se();switch(u){case"today":return[i.startOf("day").format(n),i.endOf("day").format(n)];case"yesterday":return[i.clone().subtract(1,"day").startOf("day").format(n),i.clone().subtract(1,"day").endOf("day").format(n)];case"thisWeek":return[i.startOf("week").format(n),i.endOf("week").format(n)];case"lastWeek":return[i.clone().subtract(1,"week").startOf("week").format(n),i.clone().subtract(1,"week").endOf("week").format(n)];case"beforeLastWeek":return[i.clone().subtract(2,"week").startOf("week").format(n),i.clone().subtract(2,"week").endOf("week").format(n)];case"thisMonth":return[i.startOf("month").format(n),i.endOf("month").format(n)];case"lastMonth":return[i.clone().subtract(1,"month").startOf("month").format(n),i.clone().subtract(1,"month").endOf("month").format(n)];case"beforeLastMonth":return[i.clone().subtract(2,"month").startOf("month").format(n),i.clone().subtract(2,"month").endOf("month").format(n)];default:return[]}}const N=()=>{T.getRepoBranches().then(u=>{const n=[];for(const i of u?.data||[]){const v=n.find(k=>k.repoUrl===i.repoUrl);v?(v.commits=Math.max(v.commits,i.commits),v.additions=Math.max(v.additions,i.additions),v.deletions=Math.max(v.deletions,i.deletions),v.effectives=Math.max(v.effectives,i.effectives),v.nicknames=Array.from(new Set(v.nicknames.split(",").concat(i.nicknames.split(",")).filter(k=>!!k))).join(","),v.branchName=Array.from(new Set(v.branchName.split(",").concat(i.branchName.split(",")).filter(k=>!!k))).join(",")):n.push({repoUrl:i.repoUrl,branchName:i.branchName,commits:i.commits,nicknames:i.nicknames,additions:i.additions,deletions:i.deletions,effectives:i.effectives})}M.value=n}),T.getContributors().then(u=>{d.value=u.data})};return pe(()=>{N()}),(u,n)=>{const i=gt,v=pt,k=ht,y=Ot,U=bt,R=$t;return G(),ae("div",It,[H("h6",Ht,Q(u.$t("conditionFilter")),1),H("div",At,[S(R,{bordered:"",class:"rounded-borders"},{default:W(()=>[S(y,{class:"w-full group1","expand-separator":"","default-opened":"",icon:"📅",label:u.$t("timeRange")},{default:W(()=>[S(k,{class:"w-full px-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:W(()=>[H("div",Nt,[S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[0]||(n[0]=b=>f("today")),label:u.$t("today")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[1]||(n[1]=b=>f("yesterday")),label:u.$t("yesterday")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[2]||(n[2]=b=>f("thisWeek")),label:u.$t("weekThis")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[3]||(n[3]=b=>f("lastWeek")),label:u.$t("weekLast")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[4]||(n[4]=b=>f("beforeLastWeek")),label:u.$t("weekBeforeLast")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[5]||(n[5]=b=>f("thisMonth")),label:u.$t("monthThis")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[6]||(n[6]=b=>f("lastMonth")),label:u.$t("monthLast")},null,8,["label"]),S(i,{class:"mx-1",flat:"",size:"xs",onClick:n[7]||(n[7]=b=>f("beforeLastMonth")),label:u.$t("monthBeforeLast")},null,8,["label"])]),S(v,{dense:"",modelValue:Y(h).since,"onUpdate:modelValue":n[8]||(n[8]=b=>Y(h).since=b),type:"date",prefix:u.$t("since"),min:"2025-01-01"},null,8,["modelValue","prefix"]),S(v,{dense:"",modelValue:Y(h).until,"onUpdate:modelValue":n[9]||(n[9]=b=>Y(h).until=b),type:"date",prefix:u.$t("until"),min:"2025-01-01"},null,8,["modelValue","prefix"]),S(v,{dense:"",modelValue:Y(h).geEffective,"onUpdate:modelValue":n[10]||(n[10]=b=>Y(h).geEffective=b),flat:"",clearable:"",type:"number",prefix:u.$t("effectives")+">="},null,8,["modelValue","prefix"]),S(v,{dense:"",modelValue:Y(h).leEffective,"onUpdate:modelValue":n[11]||(n[11]=b=>Y(h).leEffective=b),flat:"",clearable:"",type:"number",prefix:u.$t("effectives")+"<="},null,8,["modelValue","prefix"])]),_:1})]),_:1},8,["label"]),S(y,{class:"w-full group3 nowrap",dense:"","expand-separator":"","default-opened":"",icon:"👥",label:u.$t("contributors"),"header-class":"text-purple"},{default:W(()=>[S(k,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:W(()=>[S(U,{class:"w-full text-nowrap flex-wrap",dense:"",modelValue:Y(D),"onUpdate:modelValue":n[12]||(n[12]=b=>Z(D)?D.value=b:null),options:Y(q),color:"purple",type:"checkbox"},{label:W(b=>[H("span",Ut,Q(b.label),1)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"]),S(y,{class:"w-full group1",dense:"","expand-separator":"","default-opened":"",icon:"🌿",label:u.$t("repos")},{default:W(()=>[S(k,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:W(()=>[S(U,{class:"w-full",dense:"",modelValue:Y(m),"onUpdate:modelValue":n[13]||(n[13]=b=>Z(m)?m.value=b:null),options:Y(L),color:"green",type:"checkbox"},{label:W(b=>[H("span",Yt,Q(b.label),1)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"])]),_:1})])])}}}),Ie=Object.assign(Me(Vt,[["__scopeId","data-v-a11dee7a"]]),{__name:"AynalisisConditionFilter"});function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var he={exports:{}},jt=he.exports,He;function Bt(){return He||(He=1,(function(e,g){(function(T,a){e.exports=a()})(jt,(function(){var T=1e3,a=6e4,r=36e5,w="millisecond",h="second",M="minute",d="hour",m="day",L="week",p="month",D="quarter",q="year",A="date",f="Invalid Date",o=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var c=["th","st","nd","rd"],s=_%100;return"["+_+(c[(s-20)%10]||c[s]||c[0])+"]"}},n=function(_,c,s){var t=String(_);return!t||t.length>=c?_:""+Array(c+1-t.length).join(s)+_},i={s:n,z:function(_){var c=-_.utcOffset(),s=Math.abs(c),t=Math.floor(s/60),l=s%60;return(c<=0?"+":"-")+n(t,2,"0")+":"+n(l,2,"0")},m:function _(c,s){if(c.date()<s.date())return-_(s,c);var t=12*(s.year()-c.year())+(s.month()-c.month()),l=c.clone().add(t,p),x=s-l<0,$=c.clone().add(t+(x?-1:1),p);return+(-(t+(s-l)/(x?l-$:$-l))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:p,y:q,w:L,d:m,D:A,h:d,m:M,s:h,ms:w,Q:D}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},v="en",k={};k[v]=u;var y="$isDayjsObject",U=function(_){return _ instanceof le||!(!_||!_[y])},R=function _(c,s,t){var l;if(!c)return v;if(typeof c=="string"){var x=c.toLowerCase();k[x]&&(l=x),s&&(k[x]=s,l=x);var $=c.split("-");if(!l&&$.length>1)return _($[0])}else{var I=c.name;k[I]=c,l=I}return!t&&l&&(v=l),l||!t&&v},b=function(_,c){if(U(_))return _.clone();var s=typeof c=="object"?c:{};return s.date=_,s.args=arguments,new le(s)},C=i;C.l=R,C.i=U,C.w=function(_,c){return b(_,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var le=(function(){function _(s){this.$L=R(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[y]=!0}var c=_.prototype;return c.parse=function(s){this.$d=(function(t){var l=t.date,x=t.utc;if(l===null)return new Date(NaN);if(C.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var $=l.match(o);if($){var I=$[2]-1||0,V=($[7]||"0").substring(0,3);return x?new Date(Date.UTC($[1],I,$[3]||1,$[4]||0,$[5]||0,$[6]||0,V)):new Date($[1],I,$[3]||1,$[4]||0,$[5]||0,$[6]||0,V)}}return new Date(l)})(s),this.init()},c.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},c.$utils=function(){return C},c.isValid=function(){return this.$d.toString()!==f},c.isSame=function(s,t){var l=b(s);return this.startOf(t)<=l&&l<=this.endOf(t)},c.isAfter=function(s,t){return b(s)<this.startOf(t)},c.isBefore=function(s,t){return this.endOf(t)<b(s)},c.$g=function(s,t,l){return C.u(s)?this[t]:this.set(l,s)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(s,t){var l=this,x=!!C.u(t)||t,$=C.p(s),I=function(ee,z){var K=C.w(l.$u?Date.UTC(l.$y,z,ee):new Date(l.$y,z,ee),l);return x?K:K.endOf(m)},V=function(ee,z){return C.w(l.toDate()[ee].apply(l.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(z)),l)},j=this.$W,B=this.$M,J=this.$D,oe="set"+(this.$u?"UTC":"");switch($){case q:return x?I(1,0):I(31,11);case p:return x?I(1,B):I(0,B+1);case L:var X=this.$locale().weekStart||0,ie=(j<X?j+7:j)-X;return I(x?J-ie:J+(6-ie),B);case m:case A:return V(oe+"Hours",0);case d:return V(oe+"Minutes",1);case M:return V(oe+"Seconds",2);case h:return V(oe+"Milliseconds",3);default:return this.clone()}},c.endOf=function(s){return this.startOf(s,!1)},c.$set=function(s,t){var l,x=C.p(s),$="set"+(this.$u?"UTC":""),I=(l={},l[m]=$+"Date",l[A]=$+"Date",l[p]=$+"Month",l[q]=$+"FullYear",l[d]=$+"Hours",l[M]=$+"Minutes",l[h]=$+"Seconds",l[w]=$+"Milliseconds",l)[x],V=x===m?this.$D+(t-this.$W):t;if(x===p||x===q){var j=this.clone().set(A,1);j.$d[I](V),j.init(),this.$d=j.set(A,Math.min(this.$D,j.daysInMonth())).$d}else I&&this.$d[I](V);return this.init(),this},c.set=function(s,t){return this.clone().$set(s,t)},c.get=function(s){return this[C.p(s)]()},c.add=function(s,t){var l,x=this;s=Number(s);var $=C.p(t),I=function(B){var J=b(x);return C.w(J.date(J.date()+Math.round(B*s)),x)};if($===p)return this.set(p,this.$M+s);if($===q)return this.set(q,this.$y+s);if($===m)return I(1);if($===L)return I(7);var V=(l={},l[M]=a,l[d]=r,l[h]=T,l)[$]||1,j=this.$d.getTime()+s*V;return C.w(j,this)},c.subtract=function(s,t){return this.add(-1*s,t)},c.format=function(s){var t=this,l=this.$locale();if(!this.isValid())return l.invalidDate||f;var x=s||"YYYY-MM-DDTHH:mm:ssZ",$=C.z(this),I=this.$H,V=this.$m,j=this.$M,B=l.weekdays,J=l.months,oe=l.meridiem,X=function(z,K,re,de){return z&&(z[K]||z(t,x))||re[K].slice(0,de)},ie=function(z){return C.s(I%12||12,z,"0")},ee=oe||function(z,K,re){var de=z<12?"AM":"PM";return re?de.toLowerCase():de};return x.replace(N,(function(z,K){return K||(function(re){switch(re){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return j+1;case"MM":return C.s(j+1,2,"0");case"MMM":return X(l.monthsShort,j,J,3);case"MMMM":return X(J,j);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return X(l.weekdaysMin,t.$W,B,2);case"ddd":return X(l.weekdaysShort,t.$W,B,3);case"dddd":return B[t.$W];case"H":return String(I);case"HH":return C.s(I,2,"0");case"h":return ie(1);case"hh":return ie(2);case"a":return ee(I,V,!0);case"A":return ee(I,V,!1);case"m":return String(V);case"mm":return C.s(V,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return $}return null})(z)||$.replace(":","")}))},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(s,t,l){var x,$=this,I=C.p(t),V=b(s),j=(V.utcOffset()-this.utcOffset())*a,B=this-V,J=function(){return C.m($,V)};switch(I){case q:x=J()/12;break;case p:x=J();break;case D:x=J()/3;break;case L:x=(B-j)/6048e5;break;case m:x=(B-j)/864e5;break;case d:x=B/r;break;case M:x=B/a;break;case h:x=B/T;break;default:x=B}return l?x:C.a(x)},c.daysInMonth=function(){return this.endOf(p).$D},c.$locale=function(){return k[this.$L]},c.locale=function(s,t){if(!s)return this.$L;var l=this.clone(),x=R(s,t,!0);return x&&(l.$L=x),l},c.clone=function(){return C.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},_})(),ce=le.prototype;return b.prototype=ce,[["$ms",w],["$s",h],["$m",M],["$H",d],["$W",m],["$M",p],["$y",q],["$D",A]].forEach((function(_){ce[_[1]]=function(c){return this.$g(c,_[0],_[1])}})),b.extend=function(_,c){return _.$i||(_(c,le,b),_.$i=!0),b},b.locale=R,b.isDayjs=U,b.unix=function(_){return b(1e3*_)},b.en=k[v],b.Ls=k,b.p={},b}))})(he)),he.exports}var Pt=Bt();const Ae=Et(Pt),Rt={__name:"AynalisisHeatMapCard",props:{title:{type:String},commits:{type:Array,required:!0}},setup(e){const g=Se(),T=e,a=(w,h=90)=>{const d=Ae(new Date),m=d.subtract(h-1,"day"),L=(w||[]).map(A=>A[0]).sort(),p=L[0]?Ae(L[0]):m,D=p.isBefore(m)?p:m,q=d;return[D.format("YYYY-MM-DD"),q.format("YYYY-MM-DD")]},r=P(()=>{const w=(T.commits||[]).filter(d=>!!d.date).map(d=>[d.date.slice(0,10),d.commits||0]).sort((d,m)=>d[0].localeCompare(m[0])),h=a(w),M=Math.max(...w.map(d=>d[1]),1);return{title:{text:T.title||g.t("commitHeatmap"),left:"center",top:10,textStyle:{fontSize:15,fontWeight:"bold"}},tooltip:{position:"top",formatter:d=>{const[m,L]=d.data;return`${m}<br/><b>${L}</b> ${g.t("commits")}`}},visualMap:{type:"piecewise",show:!0,min:0,max:M,calculable:!0,orient:"horizontal",left:"center",top:20,inRange:{color:["#e6f7ff","#91d5ff","#1890ff","#003a8c"]}},calendar:{top:80,left:20,right:20,bottom:10,cellSize:["auto",14],range:h,itemStyle:{borderWidth:.4,borderColor:"#ccc"},yearLabel:{show:!1},monthLabel:{nameMap:"cn",color:"#555",fontSize:10},dayLabel:{firstDay:1,nameMap:"cn",color:"#888",fontSize:9}},series:[{type:"heatmap",coordinateSystem:"calendar",data:w,emphasis:{focus:"self",itemStyle:{borderColor:"#333",borderWidth:1}}}]}});return(w,h)=>{const M=We;return G(),Pe(M,{class:"w-full h-[400px] border border-gray-200",option:Y(r),autoresize:""},null,8,["option"])}}},me=Me(Rt,[["__scopeId","data-v-4f31b9d9"]]),zt={class:"w-full pl-4 pr-4 flex-col"},Wt={class:"w-full content-center"},Ft={class:"w-full h-[calc(100vh-130px)] overflow-y-scroll flex flex-col items-center"},Qt=be({__name:"AnalysisView",props:{filter:{type:Object,required:!0}},setup(e){const g=$e(),T=O([]),a=O(""),r=O(""),w=O([]),h=O([]),M=O([]),d=O([]),m=O([]),L=O([]),p=e;F(()=>p.filter,()=>{D()},{deep:!0});const D=async()=>{g.getRanking(p.filter).then(o=>{T.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitHeatmap({...p.filter,messageType:""}).then(o=>{w.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitHeatmap({...p.filter,messageType:"fix"}).then(o=>{h.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitHeatmap({...p.filter,messageType:"feat"}).then(o=>{M.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitHeatmap({...p.filter,messageType:"",isMerge:"1"}).then(o=>{d.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitPeriod({...p.filter,period:"day"}).then(o=>{m.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value}),g.getCommitPeriod({...p.filter,period:"week"}).then(o=>{L.value=o?.data||[],a.value=o?.meta?.since||a.value,r.value=o?.meta?.until||r.value})},q=()=>{D()},A=O(),f=O(!0);return pe(()=>{q(),A.value=Ye(()=>{f.value&&q()},3e4)}),Re(()=>{clearInterval(A.value)}),(o,N)=>{const u=ze;return G(),ae("div",zt,[H("h6",Wt,[ve(Q(o.$t("analysisView"))+" ",1),S(u,{class:"text-xs ml-16",dense:"",modelValue:f.value,"onUpdate:modelValue":N[0]||(N[0]=n=>f.value=n),label:o.$t("autoRefresh")},null,8,["modelValue","label"])]),H("div",Ft,[H("div",{class:Oe(["w-full flex flex-col",o.$q.screen.gt.sm?"max-w-[700px]":"w-full"])},[S(wt,{class:Oe(o.$q.screen.gt.sm?"max-w-[700px]":"w-full"),authors:T.value,since:a.value,until:r.value,sortBy:"effectives",sortDirection:"desc"},null,8,["class","authors","since","until"]),S(qe,{commits:m.value,year:a.value,title:o.$t("commitPeriod")},null,8,["commits","year","title"]),S(qe,{commits:L.value,year:a.value,title:o.$t("commitPeriod")},null,8,["commits","year","title"]),S(me,{commits:w.value,year:a.value,title:o.$t("commitHeatmap")},null,8,["commits","year","title"]),S(me,{commits:h.value,year:a.value,title:o.$t("fixHeatmap")},null,8,["commits","year","title"]),S(me,{commits:M.value,year:a.value,title:o.$t("featHeatmap")},null,8,["commits","year","title"]),S(me,{commits:d.value,year:a.value,title:o.$t("mergeHeatmap")},null,8,["commits","year","title"])],2)])])}}}),Ne=Object.assign(Qt,{__name:"AynalisisAnalysisView"}),Jt=()=>{const{locale:e}=Se();return F(()=>e.value,()=>{se.locale(e.value)}),{localDate:(a,r=null)=>(r=r||"YYYY-MM-DD HH:mm:ss",se(a||new Date).format(r)),fromNow:a=>se(a||new Date).fromNow()}},Zt={class:"w-full flex nowrap content-center"},Gt=["onClick"],Kt={class:"w-full text-[11px] text-blue-900 font-bold"},Xt={class:"w-full text-black-600 text-[10px] break-all"},en={class:"w-full flex justify-between text-xs text-gray-500"},tn={class:"text-[8px]"},nn={class:"text-green text-[10px]"},an={class:"text-red text-[10px]"},ln={class:"text-purple text-[10px]"},on={class:"w-full flex justify-between"},sn={class:"row justify-center q-my-md"},rn=be({__name:"CommitLogs",props:{filter:Object},setup(e){const g=$e(),T=Jt(),{open:a}=_t(),{hashColor:r}=St(),w=O(0),h=O(20),M=O(!1),d=O({}),m=O([]),L=e,p=o=>{const u=(d.value.config||[]).find(n=>o.repoUrl.indexOf(n.domain)!==-1)?.commitUrlTmpl;if(u){const n=u.replace("{{.RepoUrl}}",o.repoUrl.replace(".git","")).replace("{{.BranchName}}",o.branchName).replace("{{.CommitHash}}",o.commitHash);a(n)}else{const n=o.repoUrl.replace(".git","")+"/commit/"+o.commitHash+"?branch="+o.branchName;a(n)}},D=async(o,N)=>{if(M.value)return;M.value=!0,o!==void 0&&o>=1&&(w.value=(o-1)*h.value),w.value===0&&(m.value=[]);const u=await g.getCommitLogs(L.filter,w.value,h.value);u.code===200?(m.value.push(...u.data),d.value=u.meta,N?.(u.data.length<h.value)):N?.(!0),M.value=!1};F(()=>L.filter,o=>{w.value=0,D()},{deep:!0});const q=()=>{w.value=0,D()},A=O(),f=O(!0);return pe(()=>{q(),A.value=Ye(()=>{f.value&&q()},3e4)}),Re(()=>{clearInterval(A.value)}),(o,N)=>{const u=ze,n=kt,i=je,v=qt,k=Lt;return G(),ae(Le,null,[H("h6",Zt,[ve(" 📝 "+Q(o.$t("commitLogs"))+" ",1),S(u,{class:"text-xs ml-16",dense:"",modelValue:Y(f),"onUpdate:modelValue":N[0]||(N[0]=y=>Z(f)?f.value=y:null),label:o.$t("autoRefresh")},null,8,["modelValue","label"])]),S(k,{class:"w-full h-[calc(100vh-130px)] overflow-auto",offset:50,onLoad:D},{loading:W(()=>[H("div",sn,[S(v,{color:"primary",size:"40px"})])]),default:W(()=>[(G(!0),ae(Le,null,xt(Y(m),(y,U)=>(G(),Pe(i,{class:"w-full",key:U},{default:W(()=>[H("div",{class:"w-full flex flex-col cursor-pointer",onClick:R=>p(y)},[H("div",Kt," 🏷️ "+Q(y.commitHash),1),H("div",Xt,Q(y.message),1),H("div",en,[H("div",tn,Q(y.repoUrl.split("/").pop().replace(".git","")+"/"+y.branchName),1),H("div",nn,"+"+Q(y.additions),1),H("div",an,"-"+Q(y.deletions),1),H("div",ln,"+"+Q(y.effectives),1)]),H("div",on,[S(n,{class:"text-xs",style:yt({backgroundColor:Y(r)(y.nickname),color:"#fff"})},{default:W(()=>[ve(Q(y.nickname),1)]),_:2},1032,["style"]),S(n,{class:"text-[10px]",color:"secondary"},{default:W(()=>[ve("⏰ "+Q(Y(T).localDate(y.date)),1)]),_:2},1024)])],8,Gt)]),_:2},1024))),128))]),_:1})],64)}}}),Ue=Object.assign(rn,{__name:"AynalisisCommitLogs"}),un={class:"w-full content-center"},cn={class:"w-full max-w-[1600px]"},dn={key:0,class:"flex nowrap w-full h-full"},fn={class:"w-[320px] h-[calc(100vh-130px)]"},mn={class:"w-[calc(100%-640px)] h-[calc(100vh-130px)]"},vn={class:"w-[320px] h-[calc(100vh-130px)]"},hn={key:1,class:"flex nowrap w-full h-full"},gn={class:"w-full content-center"},pn={class:"w-full min-h-[120px]"},bn={class:"w-full min-h-[120px]"},_n=be({__name:"index",setup(e){const g=O({since:se().subtract(2,"month").startOf("month").format("YYYY-MM-DD"),until:se().format("YYYY-MM-DD"),branches:[],contributors:[]});return(T,a)=>(G(),ae("div",un,[H("div",cn,[T.$q.screen.gt.sm?(G(),ae("div",dn,[H("div",fn,[S(Ie,{filter:Y(g),"onUpdate:filter":a[0]||(a[0]=r=>Z(g)?g.value=r:null)},null,8,["filter"])]),H("div",mn,[S(Ne,{filter:Y(g),"onUpdate:filter":a[1]||(a[1]=r=>Z(g)?g.value=r:null)},null,8,["filter"])]),H("div",vn,[S(Ue,{filter:Y(g),"onUpdate:filter":a[2]||(a[2]=r=>Z(g)?g.value=r:null)},null,8,["filter"])])])):(G(),ae("div",hn,[H("div",gn,[S(Ie,{filter:Y(g),"onUpdate:filter":a[3]||(a[3]=r=>Z(g)?g.value=r:null)},null,8,["filter"])]),H("div",pn,[S(Ne,{filter:Y(g),"onUpdate:filter":a[4]||(a[4]=r=>Z(g)?g.value=r:null)},null,8,["filter"])]),H("div",bn,[S(Ue,{filter:Y(g),"onUpdate:filter":a[5]||(a[5]=r=>Z(g)?g.value=r:null)},null,8,["filter"])])]))])]))}}),Dn=Me(_n,[["__scopeId","data-v-804ef6fa"]]);export{Dn as default};
