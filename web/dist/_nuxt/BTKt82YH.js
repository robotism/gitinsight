import{_ as D}from"./yr-kSdJf.js";import{_ as G}from"./c-4jvHe0.js";import{_ as Y}from"./DVvDsLdr.js";import{Q as O}from"./E7ML7XvT.js";import{l as P,A as V,aG as T,c0 as y,c1 as F,r as x,c2 as W,f as u,E as p,q as M,p as U,m,R as Z,M as J,N as X,Y as ee,j as te,c3 as oe,U as ne,c4 as ae,b8 as N,bI as R,bL as j,k as le,c5 as A,I as K,i as ie,g as re,o as se,w as Q,b as H,bZ as B}from"#entry";import"./BEWSqgY6.js";import"./B7mGfAnz.js";import"./DlAUqK2U.js";import"./t7U3w89n.js";import"./CiNhH9Um.js";import"./0X6zHiFl.js";const ue=P({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:l}){const{proxy:{$q:o}}=V(),t=T(F,y);if(t===y)return console.error("QFooter needs to be child of QLayout"),y;const i=x(parseInt(e.heightHint,10)),r=x(!0),d=x(W.value===!0||t.isContainer.value===!0?0:window.innerHeight),g=u(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||o.platform.is.ios&&t.isContainer.value===!0),f=u(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),q=u(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return r.value===!0?i.value:0;const n=t.scroll.value.position+f.value+i.value-t.height.value;return n>0?n:0}),z=u(()=>e.modelValue!==!0||g.value===!0&&r.value!==!0),S=u(()=>e.modelValue===!0&&z.value===!0&&e.reveal===!0),c=u(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(z.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),w=u(()=>{const n=t.rows.value.bottom,v={};return n[0]==="l"&&t.left.space===!0&&(v[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),n[2]==="r"&&t.right.space===!0&&(v[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),v});function _(n,v){t.update("footer",n,v)}function C(n,v){n.value!==v&&(n.value=v)}function L({height:n}){C(i,n),_("size",n)}function a(){if(e.reveal!==!0)return;const{direction:n,position:v,inflectionPoint:$}=t.scroll.value;C(r,n==="up"||v-$<100||t.height.value-f.value-v-i.value<300)}function b(n){S.value===!0&&C(r,!0),l("focusin",n)}p(()=>e.modelValue,n=>{_("space",n),C(r,!0),t.animate()}),p(q,n=>{_("offset",n)}),p(()=>e.reveal,n=>{n===!1&&C(r,e.modelValue)}),p(r,n=>{t.animate(),l("reveal",n)}),p([i,t.scroll,t.height],a),p(()=>o.screen.height,n=>{t.isContainer.value!==!0&&C(d,n)});const s={};return t.instances.footer=s,e.modelValue===!0&&_("size",i.value),_("space",e.modelValue),_("offset",q.value),M(()=>{t.instances.footer===s&&(t.instances.footer=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const n=U(h.default,[m(O,{debounce:0,onResize:L})]);return e.elevated===!0&&n.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m("footer",{class:c.value,style:w.value,onFocusin:b},n)}}}),ce=P({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:l}){const{proxy:{$q:o}}=V(),t=T(F,y);if(t===y)return console.error("QHeader needs to be child of QLayout"),y;const i=x(parseInt(e.heightHint,10)),r=x(!0),d=u(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||o.platform.is.ios&&t.isContainer.value===!0),g=u(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return r.value===!0?i.value:0;const a=i.value-t.scroll.value.position;return a>0?a:0}),f=u(()=>e.modelValue!==!0||d.value===!0&&r.value!==!0),q=u(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),z=u(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=u(()=>{const a=t.rows.value.top,b={};return a[0]==="l"&&t.left.space===!0&&(b[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(b[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),b});function c(a,b){t.update("header",a,b)}function w(a,b){a.value!==b&&(a.value=b)}function _({height:a}){w(i,a),c("size",a)}function C(a){q.value===!0&&w(r,!0),l("focusin",a)}p(()=>e.modelValue,a=>{c("space",a),w(r,!0),t.animate()}),p(g,a=>{c("offset",a)}),p(()=>e.reveal,a=>{a===!1&&w(r,e.modelValue)}),p(r,a=>{t.animate(),l("reveal",a)}),p(t.scroll,a=>{e.reveal===!0&&w(r,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const L={};return t.instances.header=L,e.modelValue===!0&&c("size",i.value),c("space",e.modelValue),c("offset",g.value),M(()=>{t.instances.header===L&&(t.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const a=Z(h.default,[]);return e.elevated===!0&&a.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(m(O,{debounce:0,onResize:_})),m("header",{class:z.value,style:S.value,onFocusin:C},a)}}}),{passive:I}=J,de=["both","horizontal","vertical"],fe=P({name:"QScrollObserver",props:{axis:{type:String,validator:e=>de.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:X},emits:["scroll"],setup(e,{emit:h}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,i;p(()=>e.scrollTarget,()=>{g(),d()});function r(){o?.();const z=Math.max(0,ne(t)),S=ae(t),c={top:z-l.position.top,left:S-l.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const w=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";l.position={top:z,left:S},l.directionChanged=l.direction!==w,l.delta=c,l.directionChanged===!0&&(l.direction=w,l.inflectionPoint=l.position),h("scroll",{...l})}function d(){t=ee(i,e.scrollTarget),t.addEventListener("scroll",f,I),f(!0)}function g(){t!==void 0&&(t.removeEventListener("scroll",f,I),t=void 0)}function f(z){if(z===!0||e.debounce===0||e.debounce==="0")r();else if(o===null){const[S,c]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];o=()=>{c(S),o=null}}}const{proxy:q}=V();return p(()=>q.$q.lang.rtl,r),te(()=>{i=q.$el.parentNode,d()}),M(()=>{o?.(),g()}),Object.assign(q,{trigger:f,getPosition:()=>l}),oe}}),ve=P({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:h,emit:l}){const{proxy:{$q:o}}=V(),t=x(null),i=x(o.screen.height),r=x(e.container===!0?0:o.screen.width),d=x({position:0,direction:"down",inflectionPoint:0}),g=x(0),f=x(W.value===!0?0:N()),q=u(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),z=u(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),S=u(()=>f.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),c=u(()=>f.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function w(s){if(e.container===!0||document.qScrollPrevented!==!0){const n={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};d.value=n,e.onScroll!==void 0&&l("scroll",n)}}function _(s){const{height:n,width:v}=s;let $=!1;i.value!==n&&($=!0,i.value=n,e.onScrollHeight!==void 0&&l("scrollHeight",n),L()),r.value!==v&&($=!0,r.value=v),$===!0&&e.onResize!==void 0&&l("resize",s)}function C({height:s}){g.value!==s&&(g.value=s,L())}function L(){if(e.container===!0){const s=i.value>g.value?N():0;f.value!==s&&(f.value=s)}}let a=null;const b={instances:{},view:u(()=>e.view),isContainer:u(()=>e.container),rootRef:t,height:i,containerHeight:g,scrollbarWidth:f,totalWidth:u(()=>r.value+f.value),rows:u(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:d,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,n,v){b[s][n]=v}};if(j(F,b),N()>0){let s=function(){$=null,E.classList.remove("hide-scrollbar")},n=function(){if($===null){if(E.scrollHeight>o.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout($);$=setTimeout(s,300)},v=function(k){$!==null&&k==="remove"&&(clearTimeout($),s()),window[`${k}EventListener`]("resize",n)},$=null;const E=document.body;p(()=>e.container!==!0?"add":"remove",v),e.container!==!0&&v("add"),le(()=>{v("remove")})}return()=>{const s=U(h.default,[m(fe,{onScroll:w}),m(O,{onResize:_})]),n=m("div",{class:q.value,style:z.value,ref:e.container===!0?void 0:t,tabindex:-1},s);return e.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:t},[m(O,{onResize:C}),m("div",{class:"absolute-full",style:S.value},[m("div",{class:"scroll",style:c.value},[n])])]):n}}}),he=P({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:h}){const{proxy:{$q:l}}=V(),o=T(F,y);if(o===y)return console.error("QPage needs to be a deep child of QLayout"),y;if(T(A,y)===y)return console.error("QPage needs to be child of QPageContainer"),y;const i=u(()=>{const d=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const g=o.isContainer.value===!0?o.containerHeight.value:l.screen.height;return e.styleFn(d,g)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-d+"px":l.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":l.screen.height-d+"px"}}),r=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:r.value,style:i.value},K(h.default))}}),ge=P({name:"QPageContainer",setup(e,{slots:h}){const{proxy:{$q:l}}=V(),o=T(F,y);if(o===y)return console.error("QPageContainer needs to be child of QLayout"),y;j(A,!0);const t=u(()=>{const i={};return o.header.space===!0&&(i.paddingTop=`${o.header.size}px`),o.right.space===!0&&(i[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(i.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(i[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),i});return()=>m("div",{class:"q-page-container",style:t.value},K(h.default))}}),Ce=ie({__name:"quasar",setup(e){return(h,l)=>{const o=ce,t=he,i=ge,r=ue,d=ve;return se(),re(d,{view:"hhh lpr fff",class:""},{default:Q(()=>[H(o,{class:"fixed w-full top-0 bg-[var(--ui-bg)] shadow-md dark:shadow-gray-800",style:B({paddingTop:h.$env.style.header.height})},null,8,["style"]),H(o,{class:"fixed w-full top-0 z-top bg-transparent",style:B({height:h.$env.style.header.height})},{default:Q(()=>[H(D)]),_:1},8,["style"]),H(i,{class:"p-0 pt-16"},{default:Q(()=>[H(t,{style:B({minHeight:`calc(100vh - ${h.$env.style.header.height} - ${h.$env.style.footer.height} - 4px)`})},{default:Q(()=>[H(G)]),_:1},8,["style"])]),_:1}),H(r,{class:"bg-transparent shadow-md dark:shadow-gray-300",style:B({height:h.$env.style.footer.height})},{default:Q(()=>[H(Y)]),_:1},8,["style"])]),_:1})}}});export{Ce as default};
