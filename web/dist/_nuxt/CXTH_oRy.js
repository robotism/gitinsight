import{A as k,P as g}from"./nj51jfvD.js";import{u as y,s as b}from"./BZ53_dwz.js";import{i as C,e as P,r as a,j as V,k as R,a9 as j,c as i,o as c,a as q,b as u,l as A,h as s,_ as B,F as I,a5 as N}from"#entry";import"./BLMuvzoS.js";import"./D7L_2DnC.js";import"./DlAUqK2U.js";const F={class:"w-full h-full flex flex-col justify-center items-center p-4"},M={class:"w-full h-full flex flex-col justify-center items-center p-4"},G=C({__name:"index",setup(U){const m=y(),d=P(),r=a([]),l=a(""),f=a([]),_=async()=>{const e=await m.getContributors();r.value=e?.data||[],l.value=e?.meta?.since,h()},h=async()=>{for(const e of r.value)m.getCommitPeriod({period:"day",authors:[e.nickname]}).then(t=>{t?.data&&(t.data.nickname=e.nickname||e.authorName||"",f.value.push(t.data||[]))})},p=()=>{_()},v=a(),o=a(!0);return V(()=>{p(),v.value=b(()=>{o.value&&p()},3e4)}),R(()=>{clearInterval(v.value)}),j({title:d.t("contributors"),description:d.t("contributors")}),(e,t)=>{const x=B;return c(),i("div",F,[q("div",M,[u(x,{class:"text-xs ml-auto mr-32",dense:"",modelValue:s(o),"onUpdate:modelValue":t[0]||(t[0]=n=>A(o)?o.value=n:null),label:e.$t("autoRefresh")},null,8,["modelValue","label"])]),u(k,{class:"q-pa-md w-[80vw] max-w-[1080px]",authors:s(r),since:s(l)},null,8,["authors","since"]),(c(!0),i(I,null,N(s(f),(n,w)=>(c(),i("div",{class:"q-pa-md w-[80vw] max-w-[1080px]",key:w},[u(g,{commits:n,year:s(l),title:e.$t("commitPeriod")+"-"+n.nickname},null,8,["commits","year","title"])]))),128))])}}});export{G as default};
