import{A as b,P as g}from"./BZeB4kPz.js";import{u as y,s as C}from"./BT3DorMk.js";import{i as P,e as V,r as a,j as R,k as j,ab as q,c as i,o as u,a as A,b as c,l as B,h as s,_ as I,F as N,a9 as F}from"#entry";import"./DAFHD10x.js";import"./DlAUqK2U.js";import"./BLMuvzoS.js";const M={class:"w-full h-full flex flex-col justify-center items-center p-4"},U={class:"w-full h-full flex flex-col justify-center items-center p-4"},H=P({__name:"index",setup($){const m=y(),d=V(),l=a([]),r=a(""),f=a(""),p=a([]),h=async()=>{const e=await m.getContributors();l.value=e?.data||[],r.value=e?.meta?.since||"",f.value=e?.meta?.until||"",x()},x=async()=>{for(const e of l.value)m.getCommitPeriod({period:"day",authors:[e.nickname]}).then(t=>{t?.data&&(t.data.nickname=e.nickname||e.authorName||"",p.value.push(t.data||[]))})},v=()=>{h()},_=a(),o=a(!0);return R(()=>{v(),_.value=C(()=>{o.value&&v()},3e4)}),j(()=>{clearInterval(_.value)}),q({title:d.t("contributors"),description:d.t("contributors")}),(e,t)=>{const w=I;return u(),i("div",M,[A("div",U,[c(w,{class:"text-xs ml-auto mr-32",dense:"",modelValue:s(o),"onUpdate:modelValue":t[0]||(t[0]=n=>B(o)?o.value=n:null),label:e.$t("autoRefresh")},null,8,["modelValue","label"])]),c(b,{class:"q-pa-md w-[80vw] max-w-[1080px]",authors:s(l),since:s(r),until:s(f)},null,8,["authors","since","until"]),(u(!0),i(N,null,F(s(p),(n,k)=>(u(),i("div",{class:"q-pa-md w-[80vw] max-w-[1080px]",key:k},[c(g,{commits:n,year:s(r),title:e.$t("commitPeriod")+"-"+n.nickname},null,8,["commits","year","title"])]))),128))])}}});export{H as default};
