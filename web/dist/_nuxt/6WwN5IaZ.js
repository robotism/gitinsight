import{h as se}from"./BLMuvzoS.js";import{u as Ee}from"./nFhjZ67s.js";import{u as Se,_ as Qe,s as Ve}from"./o6zX_It0.js";import{m as ue,f as z,p as j,q as Je,s as Me,T as Ze,v as Ge,x as Ke,y as Xe,z as et,A as je,B as Be,C as tt,r as C,D as nt,E as at,G as Q,H as lt,Q as Ce,I as Pe,J as ot,K as st,L as Re,M as _e,N as Oe,O as it,P as rt,R as ut,S as ct,U as dt,j as pe,V as ft,W as fe,X as xe,Y as Te,Z as ge,$ as ye,a0 as mt,a1 as vt,a2 as ht,a3 as gt,i as be,e as ke,c as le,o as K,a as N,t as J,b as w,w as F,a4 as pt,a5 as bt,a6 as _t,h as Y,a7 as xt,l as G,a8 as we,g as ze,k as We,d as ve,_ as Fe,n as Le,a9 as yt,F as qe,aa as $t}from"#entry";import{_ as Ie,a as wt}from"./DAFHD10x.js";import{_ as De}from"./DlAUqK2U.js";import{_ as St,P as $e}from"./BXrQtPjt.js";const Mt=["top","middle","bottom"],kt=ue({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Mt.includes(e)}},setup(e,{slots:v}){const I=z(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=z(()=>{const u=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(u!==void 0?` text-${u}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>j("div",{class:a.value,style:I.value,role:"status","aria-label":e.label},Je(v.default,e.label!==void 0?[e.label]:[]))}}),Dt=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:v,emit:I}){let a=!1,u,_,k=null,f=null,d,b;function M(){u?.(),u=null,a=!1,k!==null&&(clearTimeout(k),k=null),f!==null&&(clearTimeout(f),f=null),_?.removeEventListener("transitionend",d),d=null}function $(h,S,L){S!==void 0&&(h.style.height=`${S}px`),h.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,u=L}function O(h,S){h.style.overflowY=null,h.style.height=null,h.style.transition=null,M(),S!==b&&I(S)}function T(h,S){let L=0;_=h,a===!0?(M(),L=h.offsetHeight===h.scrollHeight?0:void 0):(b="hide",h.style.overflowY="hidden"),$(h,L,S),k=setTimeout(()=>{k=null,h.style.height=`${h.scrollHeight}px`,d=r=>{f=null,(Object(r)!==r||r.target===h)&&O(h,"show")},h.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}function H(h,S){let L;_=h,a===!0?M():(b="show",h.style.overflowY="hidden",L=h.scrollHeight),$(h,L,S),k=setTimeout(()=>{k=null,h.style.height=0,d=r=>{f=null,(Object(r)!==r||r.target===h)&&O(h,"hide")},h.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}return Me(()=>{a===!0&&M()}),()=>j(Ze,{css:!1,appear:e.appear,onEnter:T,onLeave:H},v.default)}}),ne=Ge({}),Ct=Object.keys(je),Ot=ue({name:"QExpansionItem",props:{...je,...et,...Xe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ke,"click","afterShow","afterHide"],setup(e,{slots:v,emit:I}){const{proxy:{$q:a}}=Be(),u=tt(e,a),_=C(e.modelValue!==null?e.modelValue:e.defaultOpened),k=C(null),f=nt(),{show:d,hide:b,toggle:M}=at({showing:_});let $,O;const T=z(()=>`q-expansion-item q-item-type q-expansion-item--${_.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),H=z(()=>e.contentInsetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),h=z(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),S=z(()=>{const t={};return Ct.forEach(o=>{t[o]=e[o]}),t}),L=z(()=>h.value===!0||e.expandIconToggle!==!0),r=z(()=>e.expandedIcon!==void 0&&_.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),E=z(()=>e.disable!==!0&&(h.value===!0||e.expandIconToggle===!0)),m=z(()=>({expanded:_.value===!0,detailsId:f.value,toggle:M,show:d,hide:b})),n=z(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[_.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":_.value===!0?"true":"false","aria-controls":f.value,"aria-label":t}});Q(()=>e.group,t=>{O?.(),t!==void 0&&D()});function s(t){h.value!==!0&&M(t),I("click",t)}function l(t){t.keyCode===13&&x(t,!0)}function x(t,o){o!==!0&&t.qAvoidFocus!==!0&&k.value?.focus(),M(t),it(t)}function B(){I("afterShow")}function U(){I("afterHide")}function D(){$===void 0&&($=lt()),_.value===!0&&(ne[e.group]=$);const t=Q(_,p=>{p===!0?ne[e.group]=$:ne[e.group]===$&&delete ne[e.group]}),o=Q(()=>ne[e.group],(p,y)=>{y===$&&p!==void 0&&p!==$&&b()});O=()=>{t(),o(),ne[e.group]===$&&delete ne[e.group],O=void 0}}function q(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},o=[j(Oe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&_.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:r.value})];return E.value===!0&&(Object.assign(t,{tabindex:0,...n.value,onClick:x,onKeyup:l}),o.unshift(j("div",{ref:k,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),j(_e,t,()=>o)}function ce(){let t;return v.header!==void 0?t=[].concat(v.header(m.value)):(t=[j(_e,()=>[j(Ie,{lines:e.labelLines},()=>e.label||""),e.caption?j(Ie,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](j(_e,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>j(Oe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](q()),t}function g(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:u.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return L.value===!0&&(t.clickable=!0,t.onClick=s,Object.assign(t,h.value===!0?S.value:n.value)),j(Pe,t,ce)}function c(){return ot(j("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:H.value,id:f.value},Re(v.default)),[[st,_.value]])}function i(){const t=[g(),j(Dt,{duration:e.duration,onShow:B,onHide:U},c)];return e.expandSeparator===!0&&t.push(j(Ce,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:u.value}),j(Ce,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:u.value})),t}return e.group!==void 0&&D(),Me(()=>{O?.()}),()=>j("div",{class:T.value},[j("div",{class:"q-expansion-item__container relative-position"},i())])}}),{passive:ae}=rt,Tt=ue({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:ut,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:v,emit:I}){const a=C(!1),u=C(!0),_=C(null),k=C(null);let f=e.initialIndex,d,b;const M=z(()=>"q-infinite-scroll__loading"+(a.value===!0?"":" invisible"));function $(){if(e.disable===!0||a.value===!0||u.value===!1)return;const l=fe(d),x=xe(d),B=Te(d);e.reverse===!1?Math.round(x+B+e.offset)>=Math.round(l)&&O():Math.round(x)<=e.offset&&O()}function O(){if(e.disable===!0||a.value===!0||u.value===!1)return;f++,a.value=!0;const l=fe(d);I("load",f,x=>{u.value===!0&&(a.value=!1,ge(()=>{if(e.reverse===!0){const B=fe(d),U=xe(d),D=B-l;ye(d,U+D)}x===!0?h():_.value&&_.value.closest("body")&&b()}))})}function T(){f=0}function H(){u.value===!1&&(u.value=!0,d.addEventListener("scroll",b,ae)),$()}function h(){u.value===!0&&(u.value=!1,a.value=!1,d.removeEventListener("scroll",b,ae),b?.cancel?.())}function S(){if(d&&u.value===!0&&d.removeEventListener("scroll",b,ae),d=mt(_.value,e.scrollTarget),u.value===!0){if(d.addEventListener("scroll",b,ae),e.reverse===!0){const l=fe(d),x=Te(d);ye(d,l-x)}$()}}function L(l){f=l}function r(l){l=parseInt(l,10);const x=b;b=l<=0?$:vt($,isNaN(l)===!0?100:l),d&&u.value===!0&&(x!==void 0&&d.removeEventListener("scroll",x,ae),d.addEventListener("scroll",b,ae))}function E(l){if(m.value===!0){if(k.value===null){l!==!0&&ge(()=>{E(!0)});return}const x=`${a.value===!0?"un":""}pauseAnimations`;Array.from(k.value.getElementsByTagName("svg")).forEach(B=>{B[x]()})}}const m=z(()=>e.disable!==!0&&u.value===!0);Q([a,m],()=>{E()}),Q(()=>e.disable,l=>{l===!0?h():H()}),Q(()=>e.reverse,()=>{a.value===!1&&u.value===!0&&$()}),Q(()=>e.scrollTarget,S),Q(()=>e.debounce,r);let n=!1;ct(()=>{n!==!1&&d&&ye(d,n)}),dt(()=>{n=d?xe(d):!1}),Me(()=>{u.value===!0&&d.removeEventListener("scroll",b,ae)}),pe(()=>{r(e.debounce),S(),a.value===!1&&E()});const s=Be();return Object.assign(s.proxy,{poll:()=>{b?.()},trigger:O,stop:h,reset:T,resume:H,setIndex:L,updateScrollTarget:S}),()=>{const l=ft(v.default,[]);return m.value===!0&&l[e.reverse===!1?"push":"unshift"](j("div",{ref:k,class:M.value},Re(v.loading))),j("div",{class:"q-infinite-scroll",ref:_},l)}}}),Lt='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',qt=ue({name:"QSpinnerDots",props:ht,setup(e){const{cSize:v,classes:I}=gt(e);return()=>j("svg",{class:I.value,fill:"currentColor",width:v.value,height:v.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Lt})}}),It={class:"w-full flex-col content-center"},Ht={class:"w-full content-center"},At={class:"w-full flex flex-col"},Nt={class:"flex flex-row flex-wrap"},Ut=be({__name:"ConditionFilter",props:{filter:{type:Object,required:!0}},emits:["update:filter"],setup(e,{emit:v}){const{hashColor:I}=Ee(),a=Se(),u=ke(),_=e,k=v,f=C({since:_.filter?.since||"",until:_.filter?.until||"",leEffective:_.filter?.leEffective||"",geEffective:_.filter?.geEffective||""}),d=C([]),b=C([]),M=C([]),$=z(()=>{const m=d.value.map(l=>{const x=l.repoUrl.split("/").pop().replace(".git","");l.commits?.split?.(",")?.length||l.commits;const B=l.nicknames?.split?.(",")?.length||0;return{label:x+" ("+B+" "+u.t("contributors")+")",value:l.repoUrl}}),n=[];for(const l of m||[])n.findIndex(x=>x.value===l.value)<0&&n.push(l);n.sort((l,x)=>l.label.localeCompare(x.label));const s=[{label:u.t("all"),value:""}];return s.push(...n),s}),O=C(!1);Q(()=>M.value,(m,n)=>{if(O.value)return;O.value=!0;const s=m.includes(""),l=n.includes("");l&&!s?M.value=[]:!l&&s?M.value=$.value.map(x=>x.value):m.length==$.value.length-1&&!s?M.value.splice(0,0,""):m.length<$.value.length&&s&&(M.value=M.value.filter(x=>!!x)),ge(()=>{O.value=!1})},{deep:!0});const T=C([]),H=z(()=>{const m=b.value.map(s=>({label:s.nickname,value:s.nickname}));m.sort((s,l)=>s.label.localeCompare(l.label));const n=[{label:u.t("all"),value:""}];return n.push(...m),n}),h=C(!1);Q(()=>T.value,(m,n)=>{if(h.value)return;h.value=!0;const s=m.includes(""),l=n.includes("");l&&!s?T.value=[]:!l&&s?T.value=H.value.map(x=>x.value):m.length==H.value.length-1&&!s?T.value.splice(0,0,""):m.length<H.value.length&&s&&(T.value=T.value.filter(x=>!!x)),ge(()=>{h.value=!1})},{deep:!0});const S=C();Q([f,M,T],()=>{clearTimeout(S.value),S.value=setTimeout(()=>{k("update:filter",{since:f.value?.since||"",until:f.value?.until||"",leEffective:f.value?.leEffective||"",geEffective:f.value?.geEffective||"",repos:M.value.filter(m=>!!m),authors:T.value.filter(m=>!!m)})},300)},{deep:!0});function L(m){const[n,s]=r(m);f.value.since=n||f.value.since,f.value.until=s||f.value.until}function r(m){const n="YYYY-MM-DD",s=se();switch(m){case"today":return[s.startOf("day").format(n),s.endOf("day").format(n)];case"yesterday":return[s.clone().subtract(1,"day").startOf("day").format(n),s.clone().subtract(1,"day").endOf("day").format(n)];case"thisWeek":return[s.startOf("week").format(n),s.endOf("week").format(n)];case"lastWeek":return[s.clone().subtract(1,"week").startOf("week").format(n),s.clone().subtract(1,"week").endOf("week").format(n)];case"beforeLastWeek":return[s.clone().subtract(2,"week").startOf("week").format(n),s.clone().subtract(2,"week").endOf("week").format(n)];case"thisMonth":return[s.startOf("month").format(n),s.endOf("month").format(n)];case"lastMonth":return[s.clone().subtract(1,"month").startOf("month").format(n),s.clone().subtract(1,"month").endOf("month").format(n)];case"beforeLastMonth":return[s.clone().subtract(2,"month").startOf("month").format(n),s.clone().subtract(2,"month").endOf("month").format(n)];default:return[]}}const E=()=>{a.getRepoBranches().then(m=>{const n=[];for(const s of m?.data||[]){const l=n.find(x=>x.repoUrl===s.repoUrl);l?(l.commits=Math.max(l.commits,s.commits),l.additions=Math.max(l.additions,s.additions),l.deletions=Math.max(l.deletions,s.deletions),l.effectives=Math.max(l.effectives,s.effectives),l.nicknames=Array.from(new Set(l.nicknames.split(",").concat(s.nicknames.split(",")).filter(x=>!!x))).join(","),l.branchName=Array.from(new Set(l.branchName.split(",").concat(s.branchName.split(",")).filter(x=>!!x))).join(",")):n.push({repoUrl:s.repoUrl,branchName:s.branchName,commits:s.commits,nicknames:s.nicknames,additions:s.additions,deletions:s.deletions,effectives:s.effectives})}d.value=n}),a.getContributors().then(m=>{b.value=m.data})};return pe(()=>{E()}),(m,n)=>{const s=bt,l=_t,x=pt,B=Ot,U=xt,D=wt;return K(),le("div",It,[N("h6",Ht,J(m.$t("conditionFilter")),1),N("div",At,[w(D,{bordered:"",class:"rounded-borders"},{default:F(()=>[w(B,{class:"w-full group1","expand-separator":"","default-opened":"",icon:"📅",label:m.$t("timeRange"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full px-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[N("div",Nt,[w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[0]||(n[0]=q=>L("today")),label:m.$t("today")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[1]||(n[1]=q=>L("yesterday")),label:m.$t("yesterday")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[2]||(n[2]=q=>L("thisWeek")),label:m.$t("weekThis")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[3]||(n[3]=q=>L("lastWeek")),label:m.$t("weekLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[4]||(n[4]=q=>L("beforeLastWeek")),label:m.$t("weekBeforeLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[5]||(n[5]=q=>L("thisMonth")),label:m.$t("monthThis")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[6]||(n[6]=q=>L("lastMonth")),label:m.$t("monthLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:n[7]||(n[7]=q=>L("beforeLastMonth")),label:m.$t("monthBeforeLast")},null,8,["label"])]),w(l,{dense:"",modelValue:Y(f).since,"onUpdate:modelValue":n[8]||(n[8]=q=>Y(f).since=q),type:"date",prefix:m.$t("since"),min:"2025-01-01"},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).until,"onUpdate:modelValue":n[9]||(n[9]=q=>Y(f).until=q),type:"date",prefix:m.$t("until"),min:"2025-01-01"},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).geEffective,"onUpdate:modelValue":n[10]||(n[10]=q=>Y(f).geEffective=q),flat:"",clearable:"",type:"number",prefix:m.$t("effectives")+">="},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).leEffective,"onUpdate:modelValue":n[11]||(n[11]=q=>Y(f).leEffective=q),flat:"",clearable:"",type:"number",prefix:m.$t("effectives")+"<="},null,8,["modelValue","prefix"])]),_:1})]),_:1},8,["label"]),w(B,{class:"w-full group3 nowrap",dense:"","expand-separator":"","default-opened":"",icon:"👥",label:m.$t("contributors"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[w(U,{class:"w-full text-nowrap flex-wrap",dense:"",modelValue:Y(T),"onUpdate:modelValue":n[12]||(n[12]=q=>G(T)?T.value=q:null),options:Y(H),type:"checkbox"},{label:F(q=>[N("span",{class:"text-[10px]",style:we({color:Y(I)(q.label)})},J(q.label),5)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"]),w(B,{class:"w-full group1",dense:"","expand-separator":"","default-opened":"",icon:"🌿",label:m.$t("repos"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[w(U,{class:"w-full",dense:"",modelValue:Y(M),"onUpdate:modelValue":n[13]||(n[13]=q=>G(M)?M.value=q:null),options:Y($),type:"checkbox"},{label:F(q=>[N("span",{class:"text-[8px]",style:we({color:Y(I)("#"+q.label?.split("-")?.[0]?.toLowerCase?.()+"-")})},J(q.label),5)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"])]),_:1})])])}}}),He=Object.assign(De(Ut,[["__scopeId","data-v-4120a259"]]),{__name:"AynalisisConditionFilter"});function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var he={exports:{}},Et=he.exports,Ae;function Vt(){return Ae||(Ae=1,(function(e,v){(function(I,a){e.exports=a()})(Et,(function(){var I=1e3,a=6e4,u=36e5,_="millisecond",k="second",f="minute",d="hour",b="day",M="week",$="month",O="quarter",T="year",H="date",h="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,r={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var c=["th","st","nd","rd"],i=g%100;return"["+g+(c[(i-20)%10]||c[i]||c[0])+"]"}},E=function(g,c,i){var t=String(g);return!t||t.length>=c?g:""+Array(c+1-t.length).join(i)+g},m={s:E,z:function(g){var c=-g.utcOffset(),i=Math.abs(c),t=Math.floor(i/60),o=i%60;return(c<=0?"+":"-")+E(t,2,"0")+":"+E(o,2,"0")},m:function g(c,i){if(c.date()<i.date())return-g(i,c);var t=12*(i.year()-c.year())+(i.month()-c.month()),o=c.clone().add(t,$),p=i-o<0,y=c.clone().add(t+(p?-1:1),$);return+(-(t+(i-o)/(p?o-y:y-o))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:$,y:T,w:M,d:b,D:H,h:d,m:f,s:k,ms:_,Q:O}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},n="en",s={};s[n]=r;var l="$isDayjsObject",x=function(g){return g instanceof q||!(!g||!g[l])},B=function g(c,i,t){var o;if(!c)return n;if(typeof c=="string"){var p=c.toLowerCase();s[p]&&(o=p),i&&(s[p]=i,o=p);var y=c.split("-");if(!o&&y.length>1)return g(y[0])}else{var A=c.name;s[A]=c,o=A}return!t&&o&&(n=o),o||!t&&n},U=function(g,c){if(x(g))return g.clone();var i=typeof c=="object"?c:{};return i.date=g,i.args=arguments,new q(i)},D=m;D.l=B,D.i=x,D.w=function(g,c){return U(g,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var q=(function(){function g(i){this.$L=B(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[l]=!0}var c=g.prototype;return c.parse=function(i){this.$d=(function(t){var o=t.date,p=t.utc;if(o===null)return new Date(NaN);if(D.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var y=o.match(S);if(y){var A=y[2]-1||0,V=(y[7]||"0").substring(0,3);return p?new Date(Date.UTC(y[1],A,y[3]||1,y[4]||0,y[5]||0,y[6]||0,V)):new Date(y[1],A,y[3]||1,y[4]||0,y[5]||0,y[6]||0,V)}}return new Date(o)})(i),this.init()},c.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},c.$utils=function(){return D},c.isValid=function(){return this.$d.toString()!==h},c.isSame=function(i,t){var o=U(i);return this.startOf(t)<=o&&o<=this.endOf(t)},c.isAfter=function(i,t){return U(i)<this.startOf(t)},c.isBefore=function(i,t){return this.endOf(t)<U(i)},c.$g=function(i,t,o){return D.u(i)?this[t]:this.set(o,i)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(i,t){var o=this,p=!!D.u(t)||t,y=D.p(i),A=function(te,W){var X=D.w(o.$u?Date.UTC(o.$y,W,te):new Date(o.$y,W,te),o);return p?X:X.endOf(b)},V=function(te,W){return D.w(o.toDate()[te].apply(o.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(W)),o)},P=this.$W,R=this.$M,Z=this.$D,oe="set"+(this.$u?"UTC":"");switch(y){case T:return p?A(1,0):A(31,11);case $:return p?A(1,R):A(0,R+1);case M:var ee=this.$locale().weekStart||0,ie=(P<ee?P+7:P)-ee;return A(p?Z-ie:Z+(6-ie),R);case b:case H:return V(oe+"Hours",0);case d:return V(oe+"Minutes",1);case f:return V(oe+"Seconds",2);case k:return V(oe+"Milliseconds",3);default:return this.clone()}},c.endOf=function(i){return this.startOf(i,!1)},c.$set=function(i,t){var o,p=D.p(i),y="set"+(this.$u?"UTC":""),A=(o={},o[b]=y+"Date",o[H]=y+"Date",o[$]=y+"Month",o[T]=y+"FullYear",o[d]=y+"Hours",o[f]=y+"Minutes",o[k]=y+"Seconds",o[_]=y+"Milliseconds",o)[p],V=p===b?this.$D+(t-this.$W):t;if(p===$||p===T){var P=this.clone().set(H,1);P.$d[A](V),P.init(),this.$d=P.set(H,Math.min(this.$D,P.daysInMonth())).$d}else A&&this.$d[A](V);return this.init(),this},c.set=function(i,t){return this.clone().$set(i,t)},c.get=function(i){return this[D.p(i)]()},c.add=function(i,t){var o,p=this;i=Number(i);var y=D.p(t),A=function(R){var Z=U(p);return D.w(Z.date(Z.date()+Math.round(R*i)),p)};if(y===$)return this.set($,this.$M+i);if(y===T)return this.set(T,this.$y+i);if(y===b)return A(1);if(y===M)return A(7);var V=(o={},o[f]=a,o[d]=u,o[k]=I,o)[y]||1,P=this.$d.getTime()+i*V;return D.w(P,this)},c.subtract=function(i,t){return this.add(-1*i,t)},c.format=function(i){var t=this,o=this.$locale();if(!this.isValid())return o.invalidDate||h;var p=i||"YYYY-MM-DDTHH:mm:ssZ",y=D.z(this),A=this.$H,V=this.$m,P=this.$M,R=o.weekdays,Z=o.months,oe=o.meridiem,ee=function(W,X,re,de){return W&&(W[X]||W(t,p))||re[X].slice(0,de)},ie=function(W){return D.s(A%12||12,W,"0")},te=oe||function(W,X,re){var de=W<12?"AM":"PM";return re?de.toLowerCase():de};return p.replace(L,(function(W,X){return X||(function(re){switch(re){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return P+1;case"MM":return D.s(P+1,2,"0");case"MMM":return ee(o.monthsShort,P,Z,3);case"MMMM":return ee(Z,P);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return ee(o.weekdaysMin,t.$W,R,2);case"ddd":return ee(o.weekdaysShort,t.$W,R,3);case"dddd":return R[t.$W];case"H":return String(A);case"HH":return D.s(A,2,"0");case"h":return ie(1);case"hh":return ie(2);case"a":return te(A,V,!0);case"A":return te(A,V,!1);case"m":return String(V);case"mm":return D.s(V,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return y}return null})(W)||y.replace(":","")}))},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(i,t,o){var p,y=this,A=D.p(t),V=U(i),P=(V.utcOffset()-this.utcOffset())*a,R=this-V,Z=function(){return D.m(y,V)};switch(A){case T:p=Z()/12;break;case $:p=Z();break;case O:p=Z()/3;break;case M:p=(R-P)/6048e5;break;case b:p=(R-P)/864e5;break;case d:p=R/u;break;case f:p=R/a;break;case k:p=R/I;break;default:p=R}return o?p:D.a(p)},c.daysInMonth=function(){return this.endOf($).$D},c.$locale=function(){return s[this.$L]},c.locale=function(i,t){if(!i)return this.$L;var o=this.clone(),p=B(i,t,!0);return p&&(o.$L=p),o},c.clone=function(){return D.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},g})(),ce=q.prototype;return U.prototype=ce,[["$ms",_],["$s",k],["$m",f],["$H",d],["$W",b],["$M",$],["$y",T],["$D",H]].forEach((function(g){ce[g[1]]=function(c){return this.$g(c,g[0],g[1])}})),U.extend=function(g,c){return g.$i||(g(c,q,U),g.$i=!0),U},U.locale=B,U.isDayjs=x,U.unix=function(g){return U(1e3*g)},U.en=s[n],U.Ls=s,U.p={},U}))})(he)),he.exports}var jt=Vt();const Ne=Yt(jt),Bt={__name:"AynalisisHeatMapCard",props:{title:{type:String},commits:{type:Array,required:!0}},setup(e){const v=ke(),I=e,a=(_,k=90)=>{const d=Ne(new Date),b=d.subtract(k-1,"day"),M=(_||[]).map(H=>H[0]).sort(),$=M[0]?Ne(M[0]):b,O=$.isBefore(b)?$:b,T=d;return[O.format("YYYY-MM-DD"),T.format("YYYY-MM-DD")]},u=z(()=>{const _=(I.commits||[]).filter(d=>!!d.date).map(d=>[d.date.slice(0,10),d.commits||0]).sort((d,b)=>d[0].localeCompare(b[0])),k=a(_),f=Math.max(..._.map(d=>d[1]),1);return{title:{text:I.title||v.t("commitHeatmap"),left:"center",top:10,textStyle:{fontSize:15,fontWeight:"bold"}},tooltip:{position:"top",formatter:d=>{const[b,M]=d.data;return`${b}<br/><b>${M}</b> ${v.t("commits")}`}},visualMap:{type:"piecewise",show:!0,min:0,max:f,calculable:!0,orient:"horizontal",left:"center",top:20,inRange:{color:["#e6f7ff","#91d5ff","#1890ff","#003a8c"]}},calendar:{top:80,left:20,right:20,bottom:10,cellSize:["auto",14],range:k,itemStyle:{borderWidth:.4,borderColor:"#ccc"},yearLabel:{show:!1},monthLabel:{nameMap:"cn",color:"#555",fontSize:10},dayLabel:{firstDay:1,nameMap:"cn",color:"#888",fontSize:9}},series:[{type:"heatmap",coordinateSystem:"calendar",data:_,emphasis:{focus:"self",itemStyle:{borderColor:"#333",borderWidth:1}}}]}});return(_,k)=>{const f=Qe;return K(),ze(f,{class:"w-full h-[400px] border border-gray-200",option:Y(u),autoresize:""},null,8,["option"])}}},me=De(Bt,[["__scopeId","data-v-4f31b9d9"]]),Pt={class:"w-full pl-4 pr-4 flex-col"},Rt={class:"w-full content-center"},zt={class:"w-full h-[calc(100vh-130px)] overflow-y-scroll flex flex-col items-center"},Wt=be({__name:"AnalysisView",props:{filter:{type:Object,required:!0}},setup(e){const v=Se(),I=C([]),a=C(""),u=C(""),_=C([]),k=C([]),f=C([]),d=C([]),b=C([]),M=C([]),$=C([]),O=e;Q(()=>O.filter,()=>{T()},{deep:!0});const T=async()=>{v.getRanking(O.filter).then(r=>{I.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitHeatmap({...O.filter,messageType:""}).then(r=>{_.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitHeatmap({...O.filter,messageType:"fix"}).then(r=>{k.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitHeatmap({...O.filter,messageType:"feat"}).then(r=>{f.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitHeatmap({...O.filter,messageType:"",isMerge:"1"}).then(r=>{d.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitPeriod({...O.filter,period:"day"}).then(r=>{b.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitPeriod({...O.filter,period:"week"}).then(r=>{M.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value}),v.getCommitPeriod({...O.filter,period:"month"}).then(r=>{$.value=r?.data||[],a.value=r?.meta?.since||a.value,u.value=r?.meta?.until||u.value})},H=C(),h=()=>{clearTimeout(H.value),H.value=setTimeout(()=>{T()},300)},S=C(),L=C(!0);return pe(()=>{h(),S.value=Ve(()=>{L.value&&h()},3e4)}),We(()=>{clearInterval(S.value)}),(r,E)=>{const m=Fe;return K(),le("div",Pt,[N("h6",Rt,[ve(J(r.$t("analysisView"))+" ",1),w(m,{class:"text-xs ml-16",dense:"",modelValue:L.value,"onUpdate:modelValue":E[0]||(E[0]=n=>L.value=n),label:r.$t("autoRefresh")},null,8,["modelValue","label"])]),N("div",zt,[N("div",{class:Le(["w-full flex flex-col",r.$q.screen.gt.sm?"max-w-[700px]":"w-full"])},[w(St,{class:Le(r.$q.screen.gt.sm?"max-w-[700px]":"w-full"),authors:I.value,since:a.value,until:u.value,sortBy:"effectives",sortDirection:"desc",hideColumns:["name","email"]},null,8,["class","authors","since","until"]),w($e,{commits:b.value,year:a.value,title:r.$t("commitPeriod")},null,8,["commits","year","title"]),w($e,{commits:M.value,year:a.value,title:r.$t("commitPeriod")},null,8,["commits","year","title"]),w($e,{commits:$.value,year:a.value,title:r.$t("commitPeriod")},null,8,["commits","year","title"]),w(me,{commits:_.value,year:a.value,title:r.$t("commitHeatmap")},null,8,["commits","year","title"]),w(me,{commits:k.value,year:a.value,title:r.$t("fixHeatmap")},null,8,["commits","year","title"]),w(me,{commits:f.value,year:a.value,title:r.$t("featHeatmap")},null,8,["commits","year","title"]),w(me,{commits:d.value,year:a.value,title:r.$t("mergeHeatmap")},null,8,["commits","year","title"])],2)])])}}}),Ue=Object.assign(Wt,{__name:"AynalisisAnalysisView"}),Ft=()=>{const{locale:e}=ke();return Q(()=>e.value,()=>{se.locale(e.value)}),{localDate:(a,u=null)=>(u=u||"YYYY-MM-DD HH:mm:ss",se(a||new Date).format(u)),fromNow:a=>se(a||new Date).fromNow()}},Qt={class:"w-full flex nowrap content-center"},Jt=["onClick"],Zt={class:"w-full text-[11px] text-blue-900 font-bold"},Gt={class:"w-full text-black-600 text-[10px] break-all"},Kt={class:"w-full flex justify-between text-xs text-gray-500"},Xt={class:"text-[8px]"},en={class:"text-green text-[10px]"},tn={class:"text-red text-[10px]"},nn={class:"text-purple text-[10px]"},an={class:"w-full flex justify-between"},ln={class:"row justify-center q-my-md"},on=be({__name:"CommitLogs",props:{filter:Object},setup(e){const v=Se(),I=Ft(),{open:a}=yt(),{hashColor:u}=Ee(),_=C(0),k=C(20),f=C(!1),d=C({}),b=C([]),M=e,$=S=>{const r=(d.value.config||[]).find(E=>S.repoUrl.indexOf(E.domain)!==-1)?.commitUrlTmpl;if(r){const E=r.replace("{{.RepoUrl}}",S.repoUrl.replace(".git","")).replace("{{.BranchName}}",S.branchName).replace("{{.CommitHash}}",S.commitHash);a(E)}else{const E=S.repoUrl.replace(".git","")+"/commit/"+S.commitHash+"?branch="+S.branchName;a(E)}},O=async(S,L)=>{if(f.value)return;f.value=!0,S!==void 0&&S>=1&&(_.value=(S-1)*k.value),_.value===0&&(b.value=[]);const r=await v.getCommitLogs(M.filter,_.value,k.value);r.code===200?(b.value.push(...r.data),d.value=r.meta,L?.(r.data.length<k.value)):L?.(!0),f.value=!1};Q(()=>M.filter,S=>{_.value=0,O()},{deep:!0});const T=()=>{_.value=0,O()},H=C(),h=C(!0);return pe(()=>{T(),H.value=Ve(()=>{h.value&&T()},3e4)}),We(()=>{clearInterval(H.value)}),(S,L)=>{const r=Fe,E=kt,m=Pe,n=qt,s=Tt;return K(),le(qe,null,[N("h6",Qt,[ve(" 📝 "+J(S.$t("commitLogs"))+" ",1),w(r,{class:"text-xs ml-16",dense:"",modelValue:Y(h),"onUpdate:modelValue":L[0]||(L[0]=l=>G(h)?h.value=l:null),label:S.$t("autoRefresh")},null,8,["modelValue","label"])]),w(s,{class:"w-full h-[calc(100vh-150px)] overflow-auto",offset:50,onLoad:O},{loading:F(()=>[N("div",ln,[w(n,{color:"primary",size:"40px"})])]),default:F(()=>[(K(!0),le(qe,null,$t(Y(b),(l,x)=>(K(),ze(m,{class:"w-full",key:x},{default:F(()=>[N("div",{class:"w-full flex flex-col cursor-pointer",onClick:B=>$(l)},[N("div",Zt," 🏷️ "+J(l.commitHash),1),N("div",Gt,J(l.message),1),N("div",Kt,[N("div",Xt,J(l.repoUrl.split("/").pop().replace(".git","")+"/"+l.branchName),1),N("div",en,"+"+J(l.additions),1),N("div",tn,"-"+J(l.deletions),1),N("div",nn,"+"+J(l.effectives),1)]),N("div",an,[w(E,{class:"text-xs",style:we({backgroundColor:Y(u)(l.nickname),color:"#fff"})},{default:F(()=>[ve(J(l.nickname),1)]),_:2},1032,["style"]),w(E,{class:"text-[10px]",color:"secondary"},{default:F(()=>[ve("⏰ "+J(Y(I).localDate(l.date)),1)]),_:2},1024)])],8,Jt)]),_:2},1024))),128))]),_:1})],64)}}}),Ye=Object.assign(on,{__name:"AynalisisCommitLogs"}),sn={class:"w-full content-center"},rn={class:"w-full max-w-[1600px]"},un={key:0,class:"flex nowrap w-full h-full"},cn={class:"w-[320px] h-[calc(100vh-130px)]"},dn={class:"w-[calc(100%-640px)] h-[calc(100vh-130px)]"},fn={class:"w-[320px] h-[calc(100vh-130px)]"},mn={key:1,class:"flex nowrap w-full h-full"},vn={class:"w-full content-center"},hn={class:"w-full min-h-[120px]"},gn={class:"w-full min-h-[120px]"},pn=be({__name:"index",setup(e){const v=C({since:se().subtract(3,"month").startOf("month").format("YYYY-MM-DD"),until:se().format("YYYY-MM-DD"),leEffective:"20000",geEffective:"",branches:[],contributors:[]});return(I,a)=>(K(),le("div",sn,[N("div",rn,[I.$q.screen.gt.sm?(K(),le("div",un,[N("div",cn,[w(He,{filter:Y(v),"onUpdate:filter":a[0]||(a[0]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),N("div",dn,[w(Ue,{filter:Y(v),"onUpdate:filter":a[1]||(a[1]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),N("div",fn,[w(Ye,{filter:Y(v),"onUpdate:filter":a[2]||(a[2]=u=>G(v)?v.value=u:null)},null,8,["filter"])])])):(K(),le("div",mn,[N("div",vn,[w(He,{filter:Y(v),"onUpdate:filter":a[3]||(a[3]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),N("div",hn,[w(Ue,{filter:Y(v),"onUpdate:filter":a[4]||(a[4]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),N("div",gn,[w(Ye,{filter:Y(v),"onUpdate:filter":a[5]||(a[5]=u=>G(v)?v.value=u:null)},null,8,["filter"])])]))])]))}}),Mn=De(pn,[["__scopeId","data-v-6685809b"]]);export{Mn as default};
