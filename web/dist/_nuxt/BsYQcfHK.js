import{h as se}from"./BLMuvzoS.js";import{u as Ee}from"./nFhjZ67s.js";import{u as Se,_ as Qe,s as Ve}from"./o6zX_It0.js";import{m as ue,f as z,p as j,q as Je,s as Me,T as Ze,v as Ge,x as Ke,y as Xe,z as et,A as je,B as Be,C as tt,r as T,D as nt,E as at,G as Q,H as lt,Q as Ce,I as Pe,J as ot,K as st,L as Re,M as _e,N as Oe,O as it,P as rt,R as ut,S as ct,U as dt,j as pe,V as ft,W as fe,X as xe,Y as Te,Z as ge,$ as ye,a0 as mt,a1 as vt,a2 as ht,a3 as gt,i as be,e as ke,c as le,o as K,a as U,t as J,b as w,w as F,a4 as pt,a5 as bt,a6 as _t,h as Y,a7 as xt,l as G,a8 as we,g as ze,k as We,d as ve,_ as Fe,n as Le,a9 as yt,F as qe,aa as $t}from"#entry";import{_ as Ie,a as wt}from"./DAFHD10x.js";import{_ as De}from"./DlAUqK2U.js";import{_ as St,P as $e}from"./BXrQtPjt.js";const Mt=["top","middle","bottom"],kt=ue({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Mt.includes(e)}},setup(e,{slots:v}){const q=z(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=z(()=>{const u=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(u!==void 0?` text-${u}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>j("div",{class:n.value,style:q.value,role:"status","aria-label":e.label},Je(v.default,e.label!==void 0?[e.label]:[]))}}),Dt=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:v,emit:q}){let n=!1,u,_,k=null,f=null,d,b;function M(){u?.(),u=null,n=!1,k!==null&&(clearTimeout(k),k=null),f!==null&&(clearTimeout(f),f=null),_?.removeEventListener("transitionend",d),d=null}function $(h,S,i){S!==void 0&&(h.style.height=`${S}px`),h.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,u=i}function C(h,S){h.style.overflowY=null,h.style.height=null,h.style.transition=null,M(),S!==b&&q(S)}function O(h,S){let i=0;_=h,n===!0?(M(),i=h.offsetHeight===h.scrollHeight?0:void 0):(b="hide",h.style.overflowY="hidden"),$(h,i,S),k=setTimeout(()=>{k=null,h.style.height=`${h.scrollHeight}px`,d=I=>{f=null,(Object(I)!==I||I.target===h)&&C(h,"show")},h.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}function A(h,S){let i;_=h,n===!0?M():(b="show",h.style.overflowY="hidden",i=h.scrollHeight),$(h,i,S),k=setTimeout(()=>{k=null,h.style.height=0,d=I=>{f=null,(Object(I)!==I||I.target===h)&&C(h,"hide")},h.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}return Me(()=>{n===!0&&M()}),()=>j(Ze,{css:!1,appear:e.appear,onEnter:O,onLeave:A},v.default)}}),ne=Ge({}),Ct=Object.keys(je),Ot=ue({name:"QExpansionItem",props:{...je,...et,...Xe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ke,"click","afterShow","afterHide"],setup(e,{slots:v,emit:q}){const{proxy:{$q:n}}=Be(),u=tt(e,n),_=T(e.modelValue!==null?e.modelValue:e.defaultOpened),k=T(null),f=nt(),{show:d,hide:b,toggle:M}=at({showing:_});let $,C;const O=z(()=>`q-expansion-item q-item-type q-expansion-item--${_.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),A=z(()=>e.contentInsetLevel===void 0?null:{["padding"+(n.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),h=z(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),S=z(()=>{const t={};return Ct.forEach(o=>{t[o]=e[o]}),t}),i=z(()=>h.value===!0||e.expandIconToggle!==!0),I=z(()=>e.expandedIcon!==void 0&&_.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),E=z(()=>e.disable!==!0&&(h.value===!0||e.expandIconToggle===!0)),m=z(()=>({expanded:_.value===!0,detailsId:f.value,toggle:M,show:d,hide:b})),a=z(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[_.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":_.value===!0?"true":"false","aria-controls":f.value,"aria-label":t}});Q(()=>e.group,t=>{C?.(),t!==void 0&&D()});function s(t){h.value!==!0&&M(t),q("click",t)}function l(t){t.keyCode===13&&x(t,!0)}function x(t,o){o!==!0&&t.qAvoidFocus!==!0&&k.value?.focus(),M(t),it(t)}function B(){q("afterShow")}function H(){q("afterHide")}function D(){$===void 0&&($=lt()),_.value===!0&&(ne[e.group]=$);const t=Q(_,p=>{p===!0?ne[e.group]=$:ne[e.group]===$&&delete ne[e.group]}),o=Q(()=>ne[e.group],(p,y)=>{y===$&&p!==void 0&&p!==$&&b()});C=()=>{t(),o(),ne[e.group]===$&&delete ne[e.group],C=void 0}}function L(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},o=[j(Oe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&_.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:I.value})];return E.value===!0&&(Object.assign(t,{tabindex:0,...a.value,onClick:x,onKeyup:l}),o.unshift(j("div",{ref:k,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),j(_e,t,()=>o)}function ce(){let t;return v.header!==void 0?t=[].concat(v.header(m.value)):(t=[j(_e,()=>[j(Ie,{lines:e.labelLines},()=>e.label||""),e.caption?j(Ie,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](j(_e,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>j(Oe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](L()),t}function g(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:u.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return i.value===!0&&(t.clickable=!0,t.onClick=s,Object.assign(t,h.value===!0?S.value:a.value)),j(Pe,t,ce)}function c(){return ot(j("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:f.value},Re(v.default)),[[st,_.value]])}function r(){const t=[g(),j(Dt,{duration:e.duration,onShow:B,onHide:H},c)];return e.expandSeparator===!0&&t.push(j(Ce,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:u.value}),j(Ce,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:u.value})),t}return e.group!==void 0&&D(),Me(()=>{C?.()}),()=>j("div",{class:O.value},[j("div",{class:"q-expansion-item__container relative-position"},r())])}}),{passive:ae}=rt,Tt=ue({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:ut,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:v,emit:q}){const n=T(!1),u=T(!0),_=T(null),k=T(null);let f=e.initialIndex,d,b;const M=z(()=>"q-infinite-scroll__loading"+(n.value===!0?"":" invisible"));function $(){if(e.disable===!0||n.value===!0||u.value===!1)return;const l=fe(d),x=xe(d),B=Te(d);e.reverse===!1?Math.round(x+B+e.offset)>=Math.round(l)&&C():Math.round(x)<=e.offset&&C()}function C(){if(e.disable===!0||n.value===!0||u.value===!1)return;f++,n.value=!0;const l=fe(d);q("load",f,x=>{u.value===!0&&(n.value=!1,ge(()=>{if(e.reverse===!0){const B=fe(d),H=xe(d),D=B-l;ye(d,H+D)}x===!0?h():_.value&&_.value.closest("body")&&b()}))})}function O(){f=0}function A(){u.value===!1&&(u.value=!0,d.addEventListener("scroll",b,ae)),$()}function h(){u.value===!0&&(u.value=!1,n.value=!1,d.removeEventListener("scroll",b,ae),b?.cancel?.())}function S(){if(d&&u.value===!0&&d.removeEventListener("scroll",b,ae),d=mt(_.value,e.scrollTarget),u.value===!0){if(d.addEventListener("scroll",b,ae),e.reverse===!0){const l=fe(d),x=Te(d);ye(d,l-x)}$()}}function i(l){f=l}function I(l){l=parseInt(l,10);const x=b;b=l<=0?$:vt($,isNaN(l)===!0?100:l),d&&u.value===!0&&(x!==void 0&&d.removeEventListener("scroll",x,ae),d.addEventListener("scroll",b,ae))}function E(l){if(m.value===!0){if(k.value===null){l!==!0&&ge(()=>{E(!0)});return}const x=`${n.value===!0?"un":""}pauseAnimations`;Array.from(k.value.getElementsByTagName("svg")).forEach(B=>{B[x]()})}}const m=z(()=>e.disable!==!0&&u.value===!0);Q([n,m],()=>{E()}),Q(()=>e.disable,l=>{l===!0?h():A()}),Q(()=>e.reverse,()=>{n.value===!1&&u.value===!0&&$()}),Q(()=>e.scrollTarget,S),Q(()=>e.debounce,I);let a=!1;ct(()=>{a!==!1&&d&&ye(d,a)}),dt(()=>{a=d?xe(d):!1}),Me(()=>{u.value===!0&&d.removeEventListener("scroll",b,ae)}),pe(()=>{I(e.debounce),S(),n.value===!1&&E()});const s=Be();return Object.assign(s.proxy,{poll:()=>{b?.()},trigger:C,stop:h,reset:O,resume:A,setIndex:i,updateScrollTarget:S}),()=>{const l=ft(v.default,[]);return m.value===!0&&l[e.reverse===!1?"push":"unshift"](j("div",{ref:k,class:M.value},Re(v.loading))),j("div",{class:"q-infinite-scroll",ref:_},l)}}}),Lt='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',qt=ue({name:"QSpinnerDots",props:ht,setup(e){const{cSize:v,classes:q}=gt(e);return()=>j("svg",{class:q.value,fill:"currentColor",width:v.value,height:v.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Lt})}}),It={class:"w-full flex-col content-center"},Ht={class:"w-full content-center"},At={class:"w-full flex flex-col"},Nt={class:"flex flex-row flex-wrap"},Ut=be({__name:"ConditionFilter",props:{filter:{type:Object,required:!0}},emits:["update:filter"],setup(e,{emit:v}){const{hashColor:q}=Ee(),n=Se(),u=ke(),_=e,k=v,f=T({since:_.filter?.since||"",until:_.filter?.until||"",leEffective:_.filter?.leEffective||"",geEffective:_.filter?.geEffective||""}),d=T([]),b=T([]),M=T([]),$=z(()=>{const m=d.value.map(l=>{const x=l.repoUrl.split("/").pop().replace(".git",""),B=l.commits?.split?.(",")?.length||l.commits||0,H=l.nicknames?.split?.(",")?.length||0;return{label:x+" ("+B+" commits, "+H+" authors)",value:l.repoUrl}}),a=[];for(const l of m||[])a.findIndex(x=>x.value===l.value)<0&&a.push(l);a.sort((l,x)=>l.label.localeCompare(x.label));const s=[{label:u.t("all"),value:""}];return s.push(...a),s}),C=T(!1);Q(()=>M.value,(m,a)=>{if(C.value)return;C.value=!0;const s=m.includes(""),l=a.includes("");l&&!s?M.value=[]:!l&&s?M.value=$.value.map(x=>x.value):m.length==$.value.length-1&&!s?M.value.splice(0,0,""):m.length<$.value.length&&s&&(M.value=M.value.filter(x=>!!x)),ge(()=>{C.value=!1})},{deep:!0});const O=T([]),A=z(()=>{const m=b.value.map(s=>({label:s.nickname,value:s.nickname}));m.sort((s,l)=>s.label.localeCompare(l.label));const a=[{label:u.t("all"),value:""}];return a.push(...m),a}),h=T(!1);Q(()=>O.value,(m,a)=>{if(h.value)return;h.value=!0;const s=m.includes(""),l=a.includes("");l&&!s?O.value=[]:!l&&s?O.value=A.value.map(x=>x.value):m.length==A.value.length-1&&!s?O.value.splice(0,0,""):m.length<A.value.length&&s&&(O.value=O.value.filter(x=>!!x)),ge(()=>{h.value=!1})},{deep:!0});const S=T();Q([f,M,O],()=>{clearTimeout(S.value),S.value=setTimeout(()=>{k("update:filter",{since:f.value?.since||"",until:f.value?.until||"",leEffective:f.value?.leEffective||"",geEffective:f.value?.geEffective||"",repos:M.value.filter(m=>!!m),authors:O.value.filter(m=>!!m)})},300)},{deep:!0});function i(m){const[a,s]=I(m);f.value.since=a||f.value.since,f.value.until=s||f.value.until}function I(m){const a="YYYY-MM-DD",s=se();switch(m){case"today":return[s.startOf("day").format(a),s.endOf("day").format(a)];case"yesterday":return[s.clone().subtract(1,"day").startOf("day").format(a),s.clone().subtract(1,"day").endOf("day").format(a)];case"thisWeek":return[s.startOf("week").format(a),s.endOf("week").format(a)];case"lastWeek":return[s.clone().subtract(1,"week").startOf("week").format(a),s.clone().subtract(1,"week").endOf("week").format(a)];case"beforeLastWeek":return[s.clone().subtract(2,"week").startOf("week").format(a),s.clone().subtract(2,"week").endOf("week").format(a)];case"thisMonth":return[s.startOf("month").format(a),s.endOf("month").format(a)];case"lastMonth":return[s.clone().subtract(1,"month").startOf("month").format(a),s.clone().subtract(1,"month").endOf("month").format(a)];case"beforeLastMonth":return[s.clone().subtract(2,"month").startOf("month").format(a),s.clone().subtract(2,"month").endOf("month").format(a)];default:return[]}}const E=()=>{n.getRepoBranches().then(m=>{const a=[];for(const s of m?.data||[]){const l=a.find(x=>x.repoUrl===s.repoUrl);l?(l.commits=Math.max(l.commits,s.commits),l.additions=Math.max(l.additions,s.additions),l.deletions=Math.max(l.deletions,s.deletions),l.effectives=Math.max(l.effectives,s.effectives),l.nicknames=Array.from(new Set(l.nicknames.split(",").concat(s.nicknames.split(",")).filter(x=>!!x))).join(","),l.branchName=Array.from(new Set(l.branchName.split(",").concat(s.branchName.split(",")).filter(x=>!!x))).join(",")):a.push({repoUrl:s.repoUrl,branchName:s.branchName,commits:s.commits,nicknames:s.nicknames,additions:s.additions,deletions:s.deletions,effectives:s.effectives})}d.value=a}),n.getContributors().then(m=>{b.value=m.data})};return pe(()=>{E()}),(m,a)=>{const s=bt,l=_t,x=pt,B=Ot,H=xt,D=wt;return K(),le("div",It,[U("h6",Ht,J(m.$t("conditionFilter")),1),U("div",At,[w(D,{bordered:"",class:"rounded-borders"},{default:F(()=>[w(B,{class:"w-full group1","expand-separator":"","default-opened":"",icon:"📅",label:m.$t("timeRange"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full px-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[U("div",Nt,[w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[0]||(a[0]=L=>i("today")),label:m.$t("today")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[1]||(a[1]=L=>i("yesterday")),label:m.$t("yesterday")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[2]||(a[2]=L=>i("thisWeek")),label:m.$t("weekThis")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[3]||(a[3]=L=>i("lastWeek")),label:m.$t("weekLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[4]||(a[4]=L=>i("beforeLastWeek")),label:m.$t("weekBeforeLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[5]||(a[5]=L=>i("thisMonth")),label:m.$t("monthThis")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[6]||(a[6]=L=>i("lastMonth")),label:m.$t("monthLast")},null,8,["label"]),w(s,{class:"mx-1",flat:"",size:"xs",onClick:a[7]||(a[7]=L=>i("beforeLastMonth")),label:m.$t("monthBeforeLast")},null,8,["label"])]),w(l,{dense:"",modelValue:Y(f).since,"onUpdate:modelValue":a[8]||(a[8]=L=>Y(f).since=L),type:"date",prefix:m.$t("since"),min:"2025-01-01"},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).until,"onUpdate:modelValue":a[9]||(a[9]=L=>Y(f).until=L),type:"date",prefix:m.$t("until"),min:"2025-01-01"},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).geEffective,"onUpdate:modelValue":a[10]||(a[10]=L=>Y(f).geEffective=L),flat:"",clearable:"",type:"number",prefix:m.$t("effectives")+">="},null,8,["modelValue","prefix"]),w(l,{dense:"",modelValue:Y(f).leEffective,"onUpdate:modelValue":a[11]||(a[11]=L=>Y(f).leEffective=L),flat:"",clearable:"",type:"number",prefix:m.$t("effectives")+"<="},null,8,["modelValue","prefix"])]),_:1})]),_:1},8,["label"]),w(B,{class:"w-full group3 nowrap",dense:"","expand-separator":"","default-opened":"",icon:"👥",label:m.$t("contributors"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[w(H,{class:"w-full text-nowrap flex-wrap",dense:"",modelValue:Y(O),"onUpdate:modelValue":a[12]||(a[12]=L=>G(O)?O.value=L:null),options:Y(A),type:"checkbox"},{label:F(L=>[U("span",{class:"text-[10px]",style:we({color:Y(q)(L.label)})},J(L.label),5)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"]),w(B,{class:"w-full group1",dense:"","expand-separator":"","default-opened":"",icon:"🌿",label:m.$t("repos"),"header-class":"bg-primary"},{default:F(()=>[w(x,{class:"w-full pl-2 pb-2 max-h-[20vh] overflow-y-auto"},{default:F(()=>[w(H,{class:"w-full",dense:"",modelValue:Y(M),"onUpdate:modelValue":a[13]||(a[13]=L=>G(M)?M.value=L:null),options:Y($),type:"checkbox"},{label:F(L=>[U("span",{class:"text-[8px]",style:we({color:Y(q)("#"+L.label?.split("-")?.[0]?.toLowerCase?.()+"-")})},J(L.label),5)]),_:1},8,["modelValue","options"])]),_:1})]),_:1},8,["label"])]),_:1})])])}}}),He=Object.assign(De(Ut,[["__scopeId","data-v-9a060d41"]]),{__name:"AynalisisConditionFilter"});function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var he={exports:{}},Et=he.exports,Ae;function Vt(){return Ae||(Ae=1,(function(e,v){(function(q,n){e.exports=n()})(Et,(function(){var q=1e3,n=6e4,u=36e5,_="millisecond",k="second",f="minute",d="hour",b="day",M="week",$="month",C="quarter",O="year",A="date",h="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var c=["th","st","nd","rd"],r=g%100;return"["+g+(c[(r-20)%10]||c[r]||c[0])+"]"}},E=function(g,c,r){var t=String(g);return!t||t.length>=c?g:""+Array(c+1-t.length).join(r)+g},m={s:E,z:function(g){var c=-g.utcOffset(),r=Math.abs(c),t=Math.floor(r/60),o=r%60;return(c<=0?"+":"-")+E(t,2,"0")+":"+E(o,2,"0")},m:function g(c,r){if(c.date()<r.date())return-g(r,c);var t=12*(r.year()-c.year())+(r.month()-c.month()),o=c.clone().add(t,$),p=r-o<0,y=c.clone().add(t+(p?-1:1),$);return+(-(t+(r-o)/(p?o-y:y-o))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:$,y:O,w:M,d:b,D:A,h:d,m:f,s:k,ms:_,Q:C}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},a="en",s={};s[a]=I;var l="$isDayjsObject",x=function(g){return g instanceof L||!(!g||!g[l])},B=function g(c,r,t){var o;if(!c)return a;if(typeof c=="string"){var p=c.toLowerCase();s[p]&&(o=p),r&&(s[p]=r,o=p);var y=c.split("-");if(!o&&y.length>1)return g(y[0])}else{var N=c.name;s[N]=c,o=N}return!t&&o&&(a=o),o||!t&&a},H=function(g,c){if(x(g))return g.clone();var r=typeof c=="object"?c:{};return r.date=g,r.args=arguments,new L(r)},D=m;D.l=B,D.i=x,D.w=function(g,c){return H(g,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var L=(function(){function g(r){this.$L=B(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[l]=!0}var c=g.prototype;return c.parse=function(r){this.$d=(function(t){var o=t.date,p=t.utc;if(o===null)return new Date(NaN);if(D.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var y=o.match(S);if(y){var N=y[2]-1||0,V=(y[7]||"0").substring(0,3);return p?new Date(Date.UTC(y[1],N,y[3]||1,y[4]||0,y[5]||0,y[6]||0,V)):new Date(y[1],N,y[3]||1,y[4]||0,y[5]||0,y[6]||0,V)}}return new Date(o)})(r),this.init()},c.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},c.$utils=function(){return D},c.isValid=function(){return this.$d.toString()!==h},c.isSame=function(r,t){var o=H(r);return this.startOf(t)<=o&&o<=this.endOf(t)},c.isAfter=function(r,t){return H(r)<this.startOf(t)},c.isBefore=function(r,t){return this.endOf(t)<H(r)},c.$g=function(r,t,o){return D.u(r)?this[t]:this.set(o,r)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(r,t){var o=this,p=!!D.u(t)||t,y=D.p(r),N=function(te,W){var X=D.w(o.$u?Date.UTC(o.$y,W,te):new Date(o.$y,W,te),o);return p?X:X.endOf(b)},V=function(te,W){return D.w(o.toDate()[te].apply(o.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(W)),o)},P=this.$W,R=this.$M,Z=this.$D,oe="set"+(this.$u?"UTC":"");switch(y){case O:return p?N(1,0):N(31,11);case $:return p?N(1,R):N(0,R+1);case M:var ee=this.$locale().weekStart||0,ie=(P<ee?P+7:P)-ee;return N(p?Z-ie:Z+(6-ie),R);case b:case A:return V(oe+"Hours",0);case d:return V(oe+"Minutes",1);case f:return V(oe+"Seconds",2);case k:return V(oe+"Milliseconds",3);default:return this.clone()}},c.endOf=function(r){return this.startOf(r,!1)},c.$set=function(r,t){var o,p=D.p(r),y="set"+(this.$u?"UTC":""),N=(o={},o[b]=y+"Date",o[A]=y+"Date",o[$]=y+"Month",o[O]=y+"FullYear",o[d]=y+"Hours",o[f]=y+"Minutes",o[k]=y+"Seconds",o[_]=y+"Milliseconds",o)[p],V=p===b?this.$D+(t-this.$W):t;if(p===$||p===O){var P=this.clone().set(A,1);P.$d[N](V),P.init(),this.$d=P.set(A,Math.min(this.$D,P.daysInMonth())).$d}else N&&this.$d[N](V);return this.init(),this},c.set=function(r,t){return this.clone().$set(r,t)},c.get=function(r){return this[D.p(r)]()},c.add=function(r,t){var o,p=this;r=Number(r);var y=D.p(t),N=function(R){var Z=H(p);return D.w(Z.date(Z.date()+Math.round(R*r)),p)};if(y===$)return this.set($,this.$M+r);if(y===O)return this.set(O,this.$y+r);if(y===b)return N(1);if(y===M)return N(7);var V=(o={},o[f]=n,o[d]=u,o[k]=q,o)[y]||1,P=this.$d.getTime()+r*V;return D.w(P,this)},c.subtract=function(r,t){return this.add(-1*r,t)},c.format=function(r){var t=this,o=this.$locale();if(!this.isValid())return o.invalidDate||h;var p=r||"YYYY-MM-DDTHH:mm:ssZ",y=D.z(this),N=this.$H,V=this.$m,P=this.$M,R=o.weekdays,Z=o.months,oe=o.meridiem,ee=function(W,X,re,de){return W&&(W[X]||W(t,p))||re[X].slice(0,de)},ie=function(W){return D.s(N%12||12,W,"0")},te=oe||function(W,X,re){var de=W<12?"AM":"PM";return re?de.toLowerCase():de};return p.replace(i,(function(W,X){return X||(function(re){switch(re){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return P+1;case"MM":return D.s(P+1,2,"0");case"MMM":return ee(o.monthsShort,P,Z,3);case"MMMM":return ee(Z,P);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return ee(o.weekdaysMin,t.$W,R,2);case"ddd":return ee(o.weekdaysShort,t.$W,R,3);case"dddd":return R[t.$W];case"H":return String(N);case"HH":return D.s(N,2,"0");case"h":return ie(1);case"hh":return ie(2);case"a":return te(N,V,!0);case"A":return te(N,V,!1);case"m":return String(V);case"mm":return D.s(V,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return y}return null})(W)||y.replace(":","")}))},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(r,t,o){var p,y=this,N=D.p(t),V=H(r),P=(V.utcOffset()-this.utcOffset())*n,R=this-V,Z=function(){return D.m(y,V)};switch(N){case O:p=Z()/12;break;case $:p=Z();break;case C:p=Z()/3;break;case M:p=(R-P)/6048e5;break;case b:p=(R-P)/864e5;break;case d:p=R/u;break;case f:p=R/n;break;case k:p=R/q;break;default:p=R}return o?p:D.a(p)},c.daysInMonth=function(){return this.endOf($).$D},c.$locale=function(){return s[this.$L]},c.locale=function(r,t){if(!r)return this.$L;var o=this.clone(),p=B(r,t,!0);return p&&(o.$L=p),o},c.clone=function(){return D.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},g})(),ce=L.prototype;return H.prototype=ce,[["$ms",_],["$s",k],["$m",f],["$H",d],["$W",b],["$M",$],["$y",O],["$D",A]].forEach((function(g){ce[g[1]]=function(c){return this.$g(c,g[0],g[1])}})),H.extend=function(g,c){return g.$i||(g(c,L,H),g.$i=!0),H},H.locale=B,H.isDayjs=x,H.unix=function(g){return H(1e3*g)},H.en=s[a],H.Ls=s,H.p={},H}))})(he)),he.exports}var jt=Vt();const Ne=Yt(jt),Bt={__name:"AynalisisHeatMapCard",props:{title:{type:String},commits:{type:Array,required:!0}},setup(e){const v=ke(),q=e,n=(_,k=90)=>{const d=Ne(new Date),b=d.subtract(k-1,"day"),M=(_||[]).map(A=>A[0]).sort(),$=M[0]?Ne(M[0]):b,C=$.isBefore(b)?$:b,O=d;return[C.format("YYYY-MM-DD"),O.format("YYYY-MM-DD")]},u=z(()=>{const _=(q.commits||[]).filter(d=>!!d.date).map(d=>[d.date.slice(0,10),d.commits||0]).sort((d,b)=>d[0].localeCompare(b[0])),k=n(_),f=Math.max(..._.map(d=>d[1]),1);return{title:{text:q.title||v.t("commitHeatmap"),left:"center",top:10,textStyle:{fontSize:15,fontWeight:"bold"}},tooltip:{position:"top",formatter:d=>{const[b,M]=d.data;return`${b}<br/><b>${M}</b> ${v.t("commits")}`}},visualMap:{type:"piecewise",show:!0,min:0,max:f,calculable:!0,orient:"horizontal",left:"center",top:20,inRange:{color:["#e6f7ff","#91d5ff","#1890ff","#003a8c"]}},calendar:{top:80,left:20,right:20,bottom:10,cellSize:["auto",14],range:k,itemStyle:{borderWidth:.4,borderColor:"#ccc"},yearLabel:{show:!1},monthLabel:{nameMap:"cn",color:"#555",fontSize:10},dayLabel:{firstDay:1,nameMap:"cn",color:"#888",fontSize:9}},series:[{type:"heatmap",coordinateSystem:"calendar",data:_,emphasis:{focus:"self",itemStyle:{borderColor:"#333",borderWidth:1}}}]}});return(_,k)=>{const f=Qe;return K(),ze(f,{class:"w-full h-[400px] border border-gray-200",option:Y(u),autoresize:""},null,8,["option"])}}},me=De(Bt,[["__scopeId","data-v-4f31b9d9"]]),Pt={class:"w-full pl-4 pr-4 flex-col"},Rt={class:"w-full content-center"},zt={class:"w-full h-[calc(100vh-130px)] overflow-y-scroll flex flex-col items-center"},Wt=be({__name:"AnalysisView",props:{filter:{type:Object,required:!0}},setup(e){const v=Se(),q=T([]),n=T(""),u=T(""),_=T([]),k=T([]),f=T([]),d=T([]),b=T([]),M=T([]),$=T([]),C=e;Q(()=>C.filter,()=>{O()},{deep:!0});const O=async()=>{v.getRanking(C.filter).then(i=>{q.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitHeatmap({...C.filter,messageType:""}).then(i=>{_.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitHeatmap({...C.filter,messageType:"fix"}).then(i=>{k.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitHeatmap({...C.filter,messageType:"feat"}).then(i=>{f.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitHeatmap({...C.filter,messageType:"",isMerge:"1"}).then(i=>{d.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitPeriod({...C.filter,period:"day"}).then(i=>{b.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitPeriod({...C.filter,period:"week"}).then(i=>{M.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value}),v.getCommitPeriod({...C.filter,period:"month"}).then(i=>{$.value=i?.data||[],n.value=i?.meta?.since||n.value,u.value=i?.meta?.until||u.value})},A=()=>{O()},h=T(),S=T(!0);return pe(()=>{A(),h.value=Ve(()=>{S.value&&A()},3e4)}),We(()=>{clearInterval(h.value)}),(i,I)=>{const E=Fe;return K(),le("div",Pt,[U("h6",Rt,[ve(J(i.$t("analysisView"))+" ",1),w(E,{class:"text-xs ml-16",dense:"",modelValue:S.value,"onUpdate:modelValue":I[0]||(I[0]=m=>S.value=m),label:i.$t("autoRefresh")},null,8,["modelValue","label"])]),U("div",zt,[U("div",{class:Le(["w-full flex flex-col",i.$q.screen.gt.sm?"max-w-[700px]":"w-full"])},[w(St,{class:Le(i.$q.screen.gt.sm?"max-w-[700px]":"w-full"),authors:q.value,since:n.value,until:u.value,sortBy:"effectives",sortDirection:"desc",hideColumns:["name","email"]},null,8,["class","authors","since","until"]),w($e,{commits:b.value,year:n.value,title:i.$t("commitPeriod")},null,8,["commits","year","title"]),w($e,{commits:M.value,year:n.value,title:i.$t("commitPeriod")},null,8,["commits","year","title"]),w($e,{commits:$.value,year:n.value,title:i.$t("commitPeriod")},null,8,["commits","year","title"]),w(me,{commits:_.value,year:n.value,title:i.$t("commitHeatmap")},null,8,["commits","year","title"]),w(me,{commits:k.value,year:n.value,title:i.$t("fixHeatmap")},null,8,["commits","year","title"]),w(me,{commits:f.value,year:n.value,title:i.$t("featHeatmap")},null,8,["commits","year","title"]),w(me,{commits:d.value,year:n.value,title:i.$t("mergeHeatmap")},null,8,["commits","year","title"])],2)])])}}}),Ue=Object.assign(Wt,{__name:"AynalisisAnalysisView"}),Ft=()=>{const{locale:e}=ke();return Q(()=>e.value,()=>{se.locale(e.value)}),{localDate:(n,u=null)=>(u=u||"YYYY-MM-DD HH:mm:ss",se(n||new Date).format(u)),fromNow:n=>se(n||new Date).fromNow()}},Qt={class:"w-full flex nowrap content-center"},Jt=["onClick"],Zt={class:"w-full text-[11px] text-blue-900 font-bold"},Gt={class:"w-full text-black-600 text-[10px] break-all"},Kt={class:"w-full flex justify-between text-xs text-gray-500"},Xt={class:"text-[8px]"},en={class:"text-green text-[10px]"},tn={class:"text-red text-[10px]"},nn={class:"text-purple text-[10px]"},an={class:"w-full flex justify-between"},ln={class:"row justify-center q-my-md"},on=be({__name:"CommitLogs",props:{filter:Object},setup(e){const v=Se(),q=Ft(),{open:n}=yt(),{hashColor:u}=Ee(),_=T(0),k=T(20),f=T(!1),d=T({}),b=T([]),M=e,$=S=>{const I=(d.value.config||[]).find(E=>S.repoUrl.indexOf(E.domain)!==-1)?.commitUrlTmpl;if(I){const E=I.replace("{{.RepoUrl}}",S.repoUrl.replace(".git","")).replace("{{.BranchName}}",S.branchName).replace("{{.CommitHash}}",S.commitHash);n(E)}else{const E=S.repoUrl.replace(".git","")+"/commit/"+S.commitHash+"?branch="+S.branchName;n(E)}},C=async(S,i)=>{if(f.value)return;f.value=!0,S!==void 0&&S>=1&&(_.value=(S-1)*k.value),_.value===0&&(b.value=[]);const I=await v.getCommitLogs(M.filter,_.value,k.value);I.code===200?(b.value.push(...I.data),d.value=I.meta,i?.(I.data.length<k.value)):i?.(!0),f.value=!1};Q(()=>M.filter,S=>{_.value=0,C()},{deep:!0});const O=()=>{_.value=0,C()},A=T(),h=T(!0);return pe(()=>{O(),A.value=Ve(()=>{h.value&&O()},3e4)}),We(()=>{clearInterval(A.value)}),(S,i)=>{const I=Fe,E=kt,m=Pe,a=qt,s=Tt;return K(),le(qe,null,[U("h6",Qt,[ve(" 📝 "+J(S.$t("commitLogs"))+" ",1),w(I,{class:"text-xs ml-16",dense:"",modelValue:Y(h),"onUpdate:modelValue":i[0]||(i[0]=l=>G(h)?h.value=l:null),label:S.$t("autoRefresh")},null,8,["modelValue","label"])]),w(s,{class:"w-full h-[calc(100vh-150px)] overflow-auto",offset:50,onLoad:C},{loading:F(()=>[U("div",ln,[w(a,{color:"primary",size:"40px"})])]),default:F(()=>[(K(!0),le(qe,null,$t(Y(b),(l,x)=>(K(),ze(m,{class:"w-full",key:x},{default:F(()=>[U("div",{class:"w-full flex flex-col cursor-pointer",onClick:B=>$(l)},[U("div",Zt," 🏷️ "+J(l.commitHash),1),U("div",Gt,J(l.message),1),U("div",Kt,[U("div",Xt,J(l.repoUrl.split("/").pop().replace(".git","")+"/"+l.branchName),1),U("div",en,"+"+J(l.additions),1),U("div",tn,"-"+J(l.deletions),1),U("div",nn,"+"+J(l.effectives),1)]),U("div",an,[w(E,{class:"text-xs",style:we({backgroundColor:Y(u)(l.nickname),color:"#fff"})},{default:F(()=>[ve(J(l.nickname),1)]),_:2},1032,["style"]),w(E,{class:"text-[10px]",color:"secondary"},{default:F(()=>[ve("⏰ "+J(Y(q).localDate(l.date)),1)]),_:2},1024)])],8,Jt)]),_:2},1024))),128))]),_:1})],64)}}}),Ye=Object.assign(on,{__name:"AynalisisCommitLogs"}),sn={class:"w-full content-center"},rn={class:"w-full max-w-[1600px]"},un={key:0,class:"flex nowrap w-full h-full"},cn={class:"w-[320px] h-[calc(100vh-130px)]"},dn={class:"w-[calc(100%-640px)] h-[calc(100vh-130px)]"},fn={class:"w-[320px] h-[calc(100vh-130px)]"},mn={key:1,class:"flex nowrap w-full h-full"},vn={class:"w-full content-center"},hn={class:"w-full min-h-[120px]"},gn={class:"w-full min-h-[120px]"},pn=be({__name:"index",setup(e){const v=T({since:se().subtract(3,"month").startOf("month").format("YYYY-MM-DD"),until:se().format("YYYY-MM-DD"),leEffective:"20000",geEffective:"",branches:[],contributors:[]});return(q,n)=>(K(),le("div",sn,[U("div",rn,[q.$q.screen.gt.sm?(K(),le("div",un,[U("div",cn,[w(He,{filter:Y(v),"onUpdate:filter":n[0]||(n[0]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),U("div",dn,[w(Ue,{filter:Y(v),"onUpdate:filter":n[1]||(n[1]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),U("div",fn,[w(Ye,{filter:Y(v),"onUpdate:filter":n[2]||(n[2]=u=>G(v)?v.value=u:null)},null,8,["filter"])])])):(K(),le("div",mn,[U("div",vn,[w(He,{filter:Y(v),"onUpdate:filter":n[3]||(n[3]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),U("div",hn,[w(Ue,{filter:Y(v),"onUpdate:filter":n[4]||(n[4]=u=>G(v)?v.value=u:null)},null,8,["filter"])]),U("div",gn,[w(Ye,{filter:Y(v),"onUpdate:filter":n[5]||(n[5]=u=>G(v)?v.value=u:null)},null,8,["filter"])])]))])]))}}),Mn=De(pn,[["__scopeId","data-v-6685809b"]]);export{Mn as default};
